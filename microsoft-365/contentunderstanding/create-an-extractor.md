---
title: 创建提取程序（预览）
ms.author: efrene
author: efrene
manager: pamgreen
ms.date: 8/1/2020
audience: admin
ms.topic: article
ms.service: ''
search.appverid: ''
localization_priority: Normal
ROBOTS: NOINDEX, NOFOLLOW
description: 了解如何创建提取程序
ms.openlocfilehash: 76cb17df069c6905080baabb0b57d765fe5cc94c
ms.sourcegitcommit: 3a47efcbdf3d2b39caa2798ea5be806839b05ed1
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/01/2020
ms.locfileid: "46540102"
---
# <a name="create-an-extractor-preview"></a>创建提取程序（预览）
> [!Note] 
> 本文中的内容适用于 Project Cortex 私人预览。 了解[有关 Project Cortex 的详细信息](https://aka.ms/projectcortex)。

</br>

> [!VIDEO https://www.microsoft.com/videoplayer/embed/RE4CL2G]

</br> 

在创建分类器模型以自动进行特定文档类型的标识和分类之后，您可以选择将提取程序添加到您的模型中，以从这些文档中提取特定信息。 例如，您可能需要您的模型不仅标识已添加到文档库中的所有*合同续订*文档，还可将每个文档的*服务开始日期*显示为文档库中的一列。

您需要为要提取的文档中的每个实体创建一个提取程序。 在我们的示例中，我们想要提取由模型标识的每个*合同续订*文档的*服务开始日期*。 我们希望能够在所有*合同续订*文档的文档库中查看视图，并显示一个显示每个文档的服务开始日期值的列。

> [!Note]
> 在创建提取程序之前，您需要添加您需要的[示例文件](https://docs.microsoft.com/microsoft-365/contentunderstanding/create-a-classifier?view=o365-worldwide#add-your-example-files)，以帮助培训模型以确定要提取的信息。 使用用于创建分类器的相同示例文件。


## <a name="name-your-extractor"></a>命名您的提取程序

1. 在模型主页上的 "**创建和培训提取程序**" 磁贴中，单击 "**训练提取**程序"。
2. 在 "**新建实体提取**程序" 屏幕上，在 "**新的提取程序名称**" 字段中键入提取程序的名称。 例如，如果我们想要从每个合同续订文档中提取服务开始日期，我们可以将 it**服务开始日期**命名为 "名称"。
3. 单击“**创建**”。

## <a name="add-a-label"></a>添加标签

下一步是在示例培训文件中标记要提取的信息。

创建提取程序将打开 "提取程序" 页，您将在其中看到示例文件的列表，并在查看器中显示列表中的第一个文件。

1. 在查看器中，选择要从文件中提取的数据。 例如，如果要提取*开始服务日期*，您将在第一个文件中突出显示它的日期值（*星期一，2019年10月14日*）。 然后单击“**保存**”。  您将在 "**标签**" 列下的 "标记的示例" 列表中看到该文件的值显示。
2. 选择 "**下一个文件**" 以自动保存并打开查看器列表中的下一个文件，也可以选择 "**保存**"，然后从 "**标记的示例**" 列表中选择另一个文件。
3. 在查看器中，重复步骤1和步骤2，在将标签保存到五个文件中之前执行此操作。

    ![高级设置](../media/content-understanding/select-service-start-date.png) 


### <a name="add-a-negative-example"></a>添加一个否定性示例

与在创建分类器时添加负示例文件的方式类似，您需要为提取器添加一个负的示例。 对于我们的示例，它应是一个不包含服务开始日期值的文件。

1. 从 "**标记的示例**" 列表中，选择一个负的示例。
2. 在查看器中，在文章顶部，选择 "**不存在标签**"。
3. 单击“**保存**”。
 
标记了5个文件后，会显示一条通知横幅，告知您转到 "培训"。 你可以选择更多文档或推进培训。 

## <a name="add-an-explanation"></a>添加说明

对于我们的示例，我们将创建一个说明，该说明提供有关实体格式本身以及示例文档中可能存在的变体的提示。 例如，日期值可以是多种不同的格式，例如：
- 10/14/2019
- 2019 年 10 月 14 日
- 2019年10月14日星期一
 

若要帮助确定*服务开始日期*，可以创建模式说明。

1. 在 "说明" 部分，选择 "**新建**"，然后键入一个名称（例如， *Date*）。
2. 对于 "类型"，选择 "**模式列表**"。
3. 对于值，需要提供在示例文件中显示的日期变体。 例如，如果您的日期格式显示为 "0/00/0000"，则可以在文档中输入可能出现的任何变体，如：
    - 0/0/0000
    - 0/00/0000
    - 00/0/0000
    - 00/00/0000
4. 选择 **“保存”**。


### <a name="use-the-explanation-library"></a>使用解释库

若要创建对日期等事物的说明，使用说明库要比手动输入所有变体更简单。 解释库是一组预构建的短语和模式说明。 库尝试为常见短语或模式列表提供所有格式，如日期、电话号码、邮政编码和许多其他。 

对于我们的*服务开始日期*示例，在解释库中使用预构建的*日期*说明更有效：

1. 在 "**说明" 部分**，* * 选择 "**新建**"，然后选择 "**来自解释库**"。
2. 从 "解释" 库中，选择 "**日期**"。 您可以查看将识别的日期的所有变体。
3. 选择“**添加**”。</br>

    ![解释库](../media/content-understanding/explanation-library.png) 

4. 在 "**创建说明**" 页面上，"解释" 库中的*日期*信息将自动填充字段。 选择 **“保存”**。</br>

    ![解释库](../media/content-understanding/date-explanation-library.png) 

 
## <a name="train-the-model"></a>训练模型 

保存您的说明将开始进行培训。 如果您的模型有足够的信息从标记的示例文件中提取数据，您将看到标记为 "**匹配**" 的每个文件。  

![解释库](../media/content-understanding/match2.png) 

如果说明没有足够的信息来查找要提取的数据，则每个文件都将标记为**不匹配**。 您可以单击不匹配的文件以查看有关为何不匹配的详细信息。


## <a name="add-another-explanation"></a>添加另一个说明

通常，不匹配是指我们提供的解释没有提供足够的信息，无法提取服务开始日期值以匹配我们标记的文件。 您可能需要对其进行编辑或添加其他说明。

对于我们的示例，我们注意到文本字符串的*开始服务日期*始终在实际值之前。 为了帮助确定服务开始日期，我们可以创建短语说明。

1. 在 "说明" 部分中，选择 "**新建**"，然后键入一个名称（例如，"*前缀字符串*"）。
2. 对于 "类型"，选择 "**短语列表**"。
3. 使用*服务开始日期*作为值。
4. 选择 **“保存”**。

    ![解释库](../media/content-understanding/prefix-string.png) 


## <a name="train-the-model"></a>训练模型

保存您的说明将再次开始进行训练，这次将在我们的示例中使用这两个说明。 如果您的模型有足够的信息从标记的示例文件中提取数据，您将看到标记为 "**匹配**" 的每个文件。 

如果再次收到带标签的文件的**不匹配**项，则可能需要创建另一条说明，以提供模型以详细了解该文档类型，或查看对现有文件所做的更改。

## <a name="test-your-model"></a>测试模型

如果您在标记的示例文件中接收到匹配项，则现在可以在剩余的未标记的示例文件上测试模型。

1. 在模型主页上，单击 "**测试**" 选项卡。 这将在未标记的示例文件上运行模型。
2. 在 "**测试文件**" 列表中，将显示示例文件，并显示该模型是否能够从这些文件中提取所需的信息。 您可以使用此信息来帮助您确定您的分类程序的有效性，以标识您的文档。

    ![对文件进行测试](../media/content-understanding/test-filies-extractor.png) 

## <a name="see-also"></a>另请参阅
  




