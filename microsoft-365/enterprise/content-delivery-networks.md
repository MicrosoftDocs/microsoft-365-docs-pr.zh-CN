---
title: 内容分发网络
ms.author: kvice
author: kelleyvice-msft
manager: laurawi
ms.date: 07/15/2020
audience: ITPro
ms.topic: conceptual
ms.service: o365-administration
localization_priority: Normal
ms.collection:
- Ent_O365
- SPO_Content
f1.keywords:
- CSH
ms.custom: Adm_O365
search.appverid:
- MET150
- MOE150
- BCS160
ms.assetid: 0140f704-6614-49bb-aa6c-89b75dcd7f1f
description: 使用此信息可了解如何使用内容Office 365网络 (CDN) 以提高性能。
ms.openlocfilehash: 1a963d14df14e8644072a159e35c8590f953dae6
ms.sourcegitcommit: 27b2b2e5c41934b918cac2c171556c45e36661bf
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/19/2021
ms.locfileid: "50911092"
---
# <a name="content-delivery-networks-cdns"></a><span data-ttu-id="44e49-103">内容分发网络 (CDN)</span><span class="sxs-lookup"><span data-stu-id="44e49-103">Content Delivery Networks (CDNs)</span></span>

<span data-ttu-id="44e49-104">*此文章适用于 Microsoft 365 企业版和 Office 365 企业版。* </span><span class="sxs-lookup"><span data-stu-id="44e49-104">*This article applies to both Microsoft 365 Enterprise and Office 365 Enterprise.*</span></span>

<span data-ttu-id="44e49-105">CDN 有助于使最终用户Office 365且可靠。</span><span class="sxs-lookup"><span data-stu-id="44e49-105">CDNs help keep Office 365 fast and reliable for end users.</span></span> <span data-ttu-id="44e49-106">云服务（如 Office 365）使用 CDN 缓存距离请求它们更近的浏览器的静态资产，以加快下载速度并减少感知的最终用户延迟。</span><span class="sxs-lookup"><span data-stu-id="44e49-106">Cloud services like Office 365 use CDNs to cache static assets closer to the browsers requesting them to speed up downloads and reduce perceived end user latency.</span></span> <span data-ttu-id="44e49-107">本主题中的信息将帮助你了解内容交付网络 (CDN) 以及这些网络Office 365。</span><span class="sxs-lookup"><span data-stu-id="44e49-107">The information in this topic will help you learn about Content Delivery Networks (CDNs) and how they are used by Office 365.</span></span>

## <a name="what-exactly-is-a-cdn"></a><span data-ttu-id="44e49-108">具体什么是CDN？</span><span class="sxs-lookup"><span data-stu-id="44e49-108">What exactly is a CDN?</span></span>

<span data-ttu-id="44e49-109">一CDN是地理上分布的网络，由数据中心中的代理服务器和文件服务器组成，这些服务器由高速主干网连接。</span><span class="sxs-lookup"><span data-stu-id="44e49-109">A CDN is a geographically distributed network consisting of proxy and file servers in datacenters connected by high-speed backbone networks.</span></span> <span data-ttu-id="44e49-110">CDN 用于减少网站或服务中一组指定文件和对象的延迟和加载时间。</span><span class="sxs-lookup"><span data-stu-id="44e49-110">CDNs are used to reduce latency and load times for a specified set of files and objects in a web site or service.</span></span> <span data-ttu-id="44e49-111">一CDN数千个终结点，用于为来自任何位置的传入请求提供最佳服务。</span><span class="sxs-lookup"><span data-stu-id="44e49-111">A CDN may have many thousands of endpoints for optimal servicing of incoming requests from any location.</span></span>

<span data-ttu-id="44e49-112">CDN 通常用于为网站或服务（如 javascript 文件、图标和图像）提供快速的通用内容下载，还可以提供对用户内容（如 SharePoint Online 文档库中的文件、流式媒体文件和自定义代码）的私有访问。</span><span class="sxs-lookup"><span data-stu-id="44e49-112">CDNs are commonly used to provide faster downloads of generic content for a web site or service such as javascript files, icons and images, and can also provide private access to user content such as files in SharePoint Online document libraries, streaming media files, and custom code.</span></span>

<span data-ttu-id="44e49-113">CDN 由大多数企业云服务使用。</span><span class="sxs-lookup"><span data-stu-id="44e49-113">CDNs are used by most enterprise cloud services.</span></span> <span data-ttu-id="44e49-114">云服务Office 365数百万客户下载混合的专有内容 (如电子邮件) 和常规内容 (如图标) 一次。</span><span class="sxs-lookup"><span data-stu-id="44e49-114">Cloud services like Office 365 have millions of customers downloading a mix of proprietary content (such as emails) and generic content (such as icons) at one time.</span></span> <span data-ttu-id="44e49-115">将每个人都使用的图像（如图标）尽可能靠近用户计算机会更有效。</span><span class="sxs-lookup"><span data-stu-id="44e49-115">It's more efficient to put images everyone uses, like icons, as close to the user's computer as possible.</span></span> <span data-ttu-id="44e49-116">每个云服务构建将此类通用内容存储在每个都市区，甚至全球每个主要 Internet 中心的 CDN 数据中心并不可行，因此其中一些 CDN 是共享的。</span><span class="sxs-lookup"><span data-stu-id="44e49-116">It isn't practical for every cloud service to build CDN datacenters that store this generic content in every metropolitan area, or even in every major Internet hub around the world, so some of these CDNs are shared.</span></span>

## <a name="how-do-cdns-make-services-work-faster"></a><span data-ttu-id="44e49-117">CDN 如何使服务更快地工作？</span><span class="sxs-lookup"><span data-stu-id="44e49-117">How do CDNs make services work faster?</span></span>

<span data-ttu-id="44e49-118">一次又一次地下载常见对象（如网站图像和图标）可能会占用网络带宽，网络带宽可以更好地用于下载重要的个人内容，如电子邮件或文档。</span><span class="sxs-lookup"><span data-stu-id="44e49-118">Downloading common objects like site images and icons over and over again can take up network bandwidth that can be better used for downloading important personal content, like email or documents.</span></span> <span data-ttu-id="44e49-119">由于Office 365使用包含 CDN 的体系结构，因此可以从距离客户端计算机更近的服务器下载图标、脚本和其他常规内容，从而加快下载速度。</span><span class="sxs-lookup"><span data-stu-id="44e49-119">Because Office 365 uses an architecture that includes CDNs, the icons, scripts, and other generic content can be downloaded from servers closer to client computers, making the downloads faster.</span></span> <span data-ttu-id="44e49-120">这意味着可以更快地访问个人内容，这些内容可安全存储在Office 365中。</span><span class="sxs-lookup"><span data-stu-id="44e49-120">This means faster access to your personal content, which is securely stored in Office 365 datacenters.</span></span>

<span data-ttu-id="44e49-121">CDN 通过多种方式帮助提高云服务性能：</span><span class="sxs-lookup"><span data-stu-id="44e49-121">CDNs help to improve cloud service performance in several ways:</span></span>

- <span data-ttu-id="44e49-122">CDN 将部分网络和文件下载负担从云服务中转移，通过减少为静态资产请求提供服务的需求，释放云服务资源，从而提供用户内容和其他服务。</span><span class="sxs-lookup"><span data-stu-id="44e49-122">CDNs shift part of the network and file download burden away from the cloud service, freeing up cloud service resources for serving user content and other services by reducing the need to serve requests for static assets.</span></span>
- <span data-ttu-id="44e49-123">CDN 旨在通过实现高性能网络和文件服务器，以及利用更新的网络协议（如 [HTTP/2）](https://en.wikipedia.org/wiki/HTTP/2) 和高效压缩和请求多路复用来提供低延迟文件访问。</span><span class="sxs-lookup"><span data-stu-id="44e49-123">CDNs are purpose built to provide low-latency file access by implementing high performance networks and file servers, and by leveraging updated network protocols such as [HTTP/2](https://en.wikipedia.org/wiki/HTTP/2) with highly efficient compression and request multiplexing.</span></span>
- <span data-ttu-id="44e49-124">CDN网络使用许多全局分布式终结点，尽可能向用户提供内容。</span><span class="sxs-lookup"><span data-stu-id="44e49-124">CDN networks use many globally distributed endpoints to make content available as close as possible to users.</span></span>

## <a name="the-office-365-cdn"></a><span data-ttu-id="44e49-125">the Office 365 CDN</span><span class="sxs-lookup"><span data-stu-id="44e49-125">The Office 365 CDN</span></span>

<span data-ttu-id="44e49-126">内置 Office 365 内容分发网络 (CDN) 允许 Office 365 管理员通过缓存距离请求它们的浏览器更近的静态资产，为组织的 SharePoint Online 页面提供更好的性能，这有助于加快下载速度并降低延迟。</span><span class="sxs-lookup"><span data-stu-id="44e49-126">The built-in Office 365 Content Delivery Network (CDN) allows Office 365 administrators to provide better performance for their organization's SharePoint Online pages by caching static assets closer to the browsers requesting them, which helps to speed up downloads and reduce latency.</span></span> <span data-ttu-id="44e49-127">该Office 365 CDN[使用 HTTP/2](https://en.wikipedia.org/wiki/HTTP/2)协议来提高压缩和下载速度。</span><span class="sxs-lookup"><span data-stu-id="44e49-127">The Office 365 CDN uses the [HTTP/2 protocol](https://en.wikipedia.org/wiki/HTTP/2) for improved compression and download speeds.</span></span>

> [!NOTE]
> <span data-ttu-id="44e49-128">此Office 365 CDN仅适用于全球云中的 **生产 (租户**) 租户。</span><span class="sxs-lookup"><span data-stu-id="44e49-128">The Office 365 CDN is only available to tenants in the **Production** (worldwide) cloud.</span></span> <span data-ttu-id="44e49-129">美国政府、中国德国云中的租户当前不支持Office 365 CDN。</span><span class="sxs-lookup"><span data-stu-id="44e49-129">Tenants in the US Government, China and Germany clouds do not currently support the Office 365 CDN.</span></span>

<span data-ttu-id="44e49-130">Office 365 CDN 由多个 CDN 组成，用户可以在多个位置（即 _源_）托管静态资产，并从全局高速网络提供这些资产。</span><span class="sxs-lookup"><span data-stu-id="44e49-130">The Office 365 CDN is composed of multiple CDNs that allow you to host static assets in multiple locations, or _origins_, and serve them from global high-speed networks.</span></span> <span data-ttu-id="44e49-131">可以添加 **公共** 源、**私有** 源或同时添加这两种源，具体取决于想要托管在 Office 365 CDN 中的内容种类。</span><span class="sxs-lookup"><span data-stu-id="44e49-131">Depending on the kind of content you want to host in the Office 365 CDN, you can add **public** origins, **private** origins or both.</span></span>

<span data-ttu-id="44e49-132">![Office 365 CDN概念图](../media/O365-CDN/o365-cdn-flow-transparent.svg "Office 365 CDN概念图")</span><span class="sxs-lookup"><span data-stu-id="44e49-132">![Office 365 CDN conceptual diagram](../media/O365-CDN/o365-cdn-flow-transparent.svg "Office 365 CDN conceptual diagram")</span></span>

<span data-ttu-id="44e49-133">Office 365 内的 **公共** 源中的内容可供匿名访问，并且任何具有托管资产 URL 的人员均可访问它。</span><span class="sxs-lookup"><span data-stu-id="44e49-133">Content in **public** origins within the Office 365 CDN is accessible anonymously, and can be accessed by anyone who has URLs to hosted assets.</span></span> <span data-ttu-id="44e49-134">由于对公共源中内容的访问属于匿名访问，因此只能使用它们缓存非敏感的常规内容，如 javascript 文件、脚本、图标和图片。</span><span class="sxs-lookup"><span data-stu-id="44e49-134">Because access to content in public origins is anonymous, you should only use them to cache non-sensitive generic content such as javascript files, scripts, icons and images.</span></span> <span data-ttu-id="44e49-135">默认情况下，使用 Office 365 CDN 下载常规资源资产（如公共源中的 Office 365 客户端应用程序）。</span><span class="sxs-lookup"><span data-stu-id="44e49-135">The Office 365 CDN is used by default for downloading generic resource assets like the Office 365 client applications from a public origin.</span></span>

<span data-ttu-id="44e49-136">**应用程序** 内的专用源Office 365 CDN用户内容（如 SharePoint Online 文档库、网站和专有图像）的专用访问权限。</span><span class="sxs-lookup"><span data-stu-id="44e49-136">**Private** origins within the Office 365 CDN provide private access to user content such as SharePoint Online document libraries, sites and proprietary images.</span></span> <span data-ttu-id="44e49-137">使用动态生成的令牌保护为私有源中内容的访问提供保护，以便只有有权访问原始文档库或存储位置的用户才能访问它。</span><span class="sxs-lookup"><span data-stu-id="44e49-137">Access to content in private origins is secured with dynamically generated tokens so it can only be accessed by users with permissions to the original document library or storage location.</span></span> <span data-ttu-id="44e49-138">Office 365 CDN 中的私有源只能用于 SharePoint Online 内容，并且用户只能通过 SharePoint Online 租户重定向访问资产。</span><span class="sxs-lookup"><span data-stu-id="44e49-138">Private origins in the Office 365 CDN can only be used for SharePoint Online content, and you can only access assets through redirection from your SharePoint Online tenant.</span></span>

<span data-ttu-id="44e49-139">Office 365 CDN 服务被归入 SharePoint Online 订阅。</span><span class="sxs-lookup"><span data-stu-id="44e49-139">The Office 365 CDN service is included as part of your SharePoint Online subscription.</span></span>

<span data-ttu-id="44e49-140">有关如何使用 Web 内容传递Office 365 CDN，请参阅使用 Office 365 [Online SharePoint网络](use-microsoft-365-cdn-with-spo.md)。</span><span class="sxs-lookup"><span data-stu-id="44e49-140">For more information about how to use the Office 365 CDN, see [Use the Office 365 content delivery network with SharePoint Online](use-microsoft-365-cdn-with-spo.md).</span></span>

<span data-ttu-id="44e49-141">若要观看一系列简短视频，这些视频提供有关使用 Office 365 CDN 的概念和 HOWTO 信息，请访问 SharePoint 开发人员模式和做法[YouTube 频道](https://aka.ms/sppnp-videos)。</span><span class="sxs-lookup"><span data-stu-id="44e49-141">To watch a series of short videos that provide conceptual and HOWTO information about using the Office 365 CDN, visit the [SharePoint Developer Patterns and Practices YouTube channel](https://aka.ms/sppnp-videos).</span></span>

## <a name="other-microsoft-cdns"></a><span data-ttu-id="44e49-142">其他 Microsoft CDN</span><span class="sxs-lookup"><span data-stu-id="44e49-142">Other Microsoft CDNs</span></span>

<span data-ttu-id="44e49-143">虽然不是 Office 365 CDN 的一部分，但您可以在 Office 365 租户中使用这些 CDN 来访问 SharePoint 开发库、自定义代码和超出 Office 365 CDN 范围的其他用途。</span><span class="sxs-lookup"><span data-stu-id="44e49-143">Although not a part of the Office 365 CDN, you can use these CDNs in your Office 365 tenant for access to SharePoint development libraries, custom code and other purposes that fall outside the scope of the Office 365 CDN.</span></span>

### <a name="azure-cdn"></a><span data-ttu-id="44e49-144">Azure CDN</span><span class="sxs-lookup"><span data-stu-id="44e49-144">Azure CDN</span></span>

>[!NOTE]
><span data-ttu-id="44e49-145">从 2020 年第 3 SharePoint季度开始，Azure CDN Online 开始缓存视频，以支持改进的视频播放和可靠性。</span><span class="sxs-lookup"><span data-stu-id="44e49-145">Beginning in Q3 2020, SharePoint Online will begin caching videos on the Azure CDN to support improved video playback and reliability.</span></span> <span data-ttu-id="44e49-146">热门视频将流式传输CDN距离用户最近的终结点。</span><span class="sxs-lookup"><span data-stu-id="44e49-146">Popular videos will be streamed from the CDN endpoint closest to the user.</span></span> <span data-ttu-id="44e49-147">此数据将保留在合规性Microsoft 365内。</span><span class="sxs-lookup"><span data-stu-id="44e49-147">This data will remain within the Microsoft 365 compliance boundary.</span></span> <span data-ttu-id="44e49-148">这是所有租户的免费服务，不需要任何客户操作进行配置。</span><span class="sxs-lookup"><span data-stu-id="44e49-148">This is a free service for all tenants and it does not require any customer action to configure.</span></span>

<span data-ttu-id="44e49-149">可以使用 **Azure CDN** 部署自己的 CDN 实例，以托管自定义 Web 部件、库和其他资源资产，从而可以将访问键应用到 CDN 存储，并更好地控制 CDN 配置。</span><span class="sxs-lookup"><span data-stu-id="44e49-149">You can use the **Azure CDN** to deploy your own CDN instance for hosting custom web parts, libraries and other resource assets, which allows you to apply access keys to your CDN storage and exert greater control over your CDN configuration.</span></span> <span data-ttu-id="44e49-150">使用 Azure CDN不是免费的，并且需要 Azure 订阅。</span><span class="sxs-lookup"><span data-stu-id="44e49-150">Use of the Azure CDN is not free, and requires an Azure subscription.</span></span>

<span data-ttu-id="44e49-151">若要详细了解如何配置 azure 存储Azure CDN，请参阅[快速入门：将 Azure](/azure/cdn/cdn-create-a-storage-account-with-cdn)存储帐户与 Azure CDN 集成。</span><span class="sxs-lookup"><span data-stu-id="44e49-151">For more information on how to configure an Azure CDN instance, see [Quickstart: Integrate an Azure storage account with Azure CDN](/azure/cdn/cdn-create-a-storage-account-with-cdn).</span></span>

<span data-ttu-id="44e49-152">有关如何使用 Azure CDN 托管 SharePoint Web 部件的示例，请参阅将[SharePoint 客户端 Web](/sharepoint/dev/spfx/web-parts/get-started/deploy-web-part-to-cdn)部件部署到 Azure CDN 。</span><span class="sxs-lookup"><span data-stu-id="44e49-152">For an example of how the Azure CDN can be used to host SharePoint web parts, see [Deploy your SharePoint client-side web part to Azure CDN](/sharepoint/dev/spfx/web-parts/get-started/deploy-web-part-to-cdn).</span></span>

<span data-ttu-id="44e49-153">有关 PowerShell Azure CDN的信息，请参阅[使用 PowerShell Azure CDN管理 PowerShell。](/azure/cdn/cdn-manage-powershell)</span><span class="sxs-lookup"><span data-stu-id="44e49-153">For information about the Azure CDN PowerShell module, see [Manage Azure CDN with PowerShell](/azure/cdn/cdn-manage-powershell).</span></span>

### <a name="microsoft-ajax-cdn"></a><span data-ttu-id="44e49-154">Microsoft Ajax CDN</span><span class="sxs-lookup"><span data-stu-id="44e49-154">Microsoft Ajax CDN</span></span>

<span data-ttu-id="44e49-155">Microsoft **的 Ajax CDN** 是一个只读 CDN，提供许多受欢迎的开发库，包括 jQuery (及其所有其他库) 、ASP.NET Ajax、Bootstrap、Knockout.js 等。</span><span class="sxs-lookup"><span data-stu-id="44e49-155">Microsoft's **Ajax CDN** is a read-only CDN that offers many popular development libraries including jQuery (and all of its other libraries), ASP.NET Ajax, Bootstrap, Knockout.js, and others.</span></span>
  
<span data-ttu-id="44e49-156">若要在项目中包括这些脚本，只需将对这些公开可用的库的任何引用替换为对 CDN 地址的引用，而不是将其包括在项目本身中。</span><span class="sxs-lookup"><span data-stu-id="44e49-156">To include these scripts in your project, simply replace any references to these publicly available libraries with references to the CDN address instead of including it in your project itself.</span></span> <span data-ttu-id="44e49-157">例如，使用以下代码链接到 jQuery：</span><span class="sxs-lookup"><span data-stu-id="44e49-157">For example, use the following code to link to jQuery:</span></span>

``` html
<script src=https://ajax.aspnetcdn.com/ajax/jquery-2.1.1.js> </script>
```

<span data-ttu-id="44e49-158">有关如何使用 Microsoft Ajax CDN，请参阅[Microsoft Ajax CDN。](/aspnet/ajax/cdn/overview)</span><span class="sxs-lookup"><span data-stu-id="44e49-158">For more information about how to use the Microsoft Ajax CDN, see [Microsoft Ajax CDN](/aspnet/ajax/cdn/overview).</span></span>

## <a name="how-does-office-365-use-content-from-a-cdn"></a><span data-ttu-id="44e49-159">如何Office 365网站中的内容CDN？</span><span class="sxs-lookup"><span data-stu-id="44e49-159">How does Office 365 use content from a CDN?</span></span>

<span data-ttu-id="44e49-160">无论你为CDN配置了哪些Office 365，基本数据检索过程都是相同的。</span><span class="sxs-lookup"><span data-stu-id="44e49-160">Regardless of what CDN you configure for your Office 365 tenant, the basic data retrieval process is the same.</span></span>

1. <span data-ttu-id="44e49-161">客户端 (浏览器或Office客户端应用程序) 请求数据Office 365。</span><span class="sxs-lookup"><span data-stu-id="44e49-161">Your client (a browser or Office client application) requests data from Office 365.</span></span>

2. <span data-ttu-id="44e49-162">Office 365将数据直接返回到客户端，或者，如果数据是 CDN 托管的一组内容的一部分，则将您的客户端重定向到 CDN URL。</span><span class="sxs-lookup"><span data-stu-id="44e49-162">Office 365 either returns the data directly to your client or, if the data is part of a set of content hosted by the CDN, redirects your client to the CDN URL.</span></span>

    <span data-ttu-id="44e49-163">a.</span><span class="sxs-lookup"><span data-stu-id="44e49-163">a.</span></span> <span data-ttu-id="44e49-164">如果数据已缓存在公用源中，则客户端会直接从最近的CDN位置下载到客户端。</span><span class="sxs-lookup"><span data-stu-id="44e49-164">If the data is already cached in a _public_ origin, your client downloads the data directly from the nearest CDN location to your client.</span></span>

    <span data-ttu-id="44e49-165">b.</span><span class="sxs-lookup"><span data-stu-id="44e49-165">b.</span></span> <span data-ttu-id="44e49-166">如果数据已缓存在专用源中，CDN服务将检查Office 365用户帐户对源的权限。 </span><span class="sxs-lookup"><span data-stu-id="44e49-166">If the data is already cached in a _private_ origin, the CDN service checks your Office 365 user account's permissions on the origin.</span></span> <span data-ttu-id="44e49-167">如果您具有权限，SharePoint Online 将动态生成由 CDN 中的资产路径和两个访问令牌组成的自定义 URL，并返回客户端的自定义 URL。</span><span class="sxs-lookup"><span data-stu-id="44e49-167">If you have permissions, SharePoint Online dynamically generates a custom URL composed of the path to the asset in the CDN and two access tokens, and returns the custom URL to your client.</span></span> <span data-ttu-id="44e49-168">然后，客户端使用自定义 URL 直接从最近的CDN位置将数据下载到客户端。</span><span class="sxs-lookup"><span data-stu-id="44e49-168">Your client then downloads the data directly from the nearest CDN location to your client using the custom URL.</span></span>

3. <span data-ttu-id="44e49-169">如果数据未缓存在 CDN，CDN 节点会从 Office 365 请求数据，然后在客户端下载数据后缓存一段时间的数据。</span><span class="sxs-lookup"><span data-stu-id="44e49-169">If the data isn't cached at the CDN, the CDN node requests the data from Office 365 and then caches the data for a period of time after your client downloads the data.</span></span>

<span data-ttu-id="44e49-170">该CDN可找出距离用户浏览器最近的数据中心，然后使用重定向从该数据中心下载请求的数据。</span><span class="sxs-lookup"><span data-stu-id="44e49-170">The CDN figures out the closest datacenter to the user's browser and, using redirection, downloads the requested data from there.</span></span> <span data-ttu-id="44e49-171">CDN重定向速度很快，并且可以节省大量下载时间。</span><span class="sxs-lookup"><span data-stu-id="44e49-171">CDN redirection is quick, and can save users a lot of download time.</span></span>

## <a name="how-should-i-set-up-my-network-so-that-cdns-work-best-with-office-365"></a><span data-ttu-id="44e49-172">如何设置我的网络，以便 CDN 最符合Office 365？</span><span class="sxs-lookup"><span data-stu-id="44e49-172">How should I set up my network so that CDNs work best with Office 365?</span></span>

<span data-ttu-id="44e49-173">最大程度地减少网络中客户端和CDN之间的延迟是确保最佳性能的关键考虑因素。</span><span class="sxs-lookup"><span data-stu-id="44e49-173">Minimizing latency between clients on your network and CDN endpoints is the key consideration for ensuring optimal performance.</span></span> <span data-ttu-id="44e49-174">您可以使用管理[Office 365](managing-office-365-endpoints.md)终结点中概述的最佳实践，以确保网络配置允许客户端浏览器直接访问 CDN，而不是通过中央代理路由 CDN 流量，以避免引入不必要的延迟。</span><span class="sxs-lookup"><span data-stu-id="44e49-174">You can use the best practices outlined in [Managing Office 365 endpoints](managing-office-365-endpoints.md) to ensure that your network configuration permits client browsers to access the CDN directly rather than routing CDN traffic through central proxies to avoid introducing unnecessary latency.</span></span>

<span data-ttu-id="44e49-175">还可以阅读网络连接[Office 365，](./microsoft-365-network-connectivity-principles.md)了解优化网络性能Office 365的概念。</span><span class="sxs-lookup"><span data-stu-id="44e49-175">You can also read [Office 365 Network Connectivity Principles](./microsoft-365-network-connectivity-principles.md) to understand the concepts behind optimizing Office 365 network performance.</span></span>

## <a name="is-there-a-list-of-all-the-cdns-that-office-365-uses"></a><span data-ttu-id="44e49-176">是否有由用户使用的所有 CDN Office 365？</span><span class="sxs-lookup"><span data-stu-id="44e49-176">Is there a list of all the CDNs that Office 365 uses?</span></span>

<span data-ttu-id="44e49-177">用户使用的 CDN Office 365随时更改，在许多情况下，如果一个 cdn 不可用，CDN配置多个 CDN。</span><span class="sxs-lookup"><span data-stu-id="44e49-177">The CDNs in use by Office 365 are always subject to change and in many cases there are multiple CDN partners configured in the event one is unavailable.</span></span> <span data-ttu-id="44e49-178">这些组使用的主要 CDN Office 365为：</span><span class="sxs-lookup"><span data-stu-id="44e49-178">The primary CDNs used by Office 365 are:</span></span>

|<span data-ttu-id="44e49-179">CDN</span><span class="sxs-lookup"><span data-stu-id="44e49-179">CDN</span></span>  |<span data-ttu-id="44e49-180">公司</span><span class="sxs-lookup"><span data-stu-id="44e49-180">Company</span></span>  |<span data-ttu-id="44e49-181">用法</span><span class="sxs-lookup"><span data-stu-id="44e49-181">Usage</span></span>  |<span data-ttu-id="44e49-182">链接</span><span class="sxs-lookup"><span data-stu-id="44e49-182">Link</span></span>  |
|---------|---------|---------|---------|
|<span data-ttu-id="44e49-183">Office 365 CDN</span><span class="sxs-lookup"><span data-stu-id="44e49-183">Office 365 CDN</span></span>     |<span data-ttu-id="44e49-184">Akamai</span><span class="sxs-lookup"><span data-stu-id="44e49-184">Akamai</span></span>         |<span data-ttu-id="44e49-185">公用源中的常规资产，SharePoint源中的用户内容</span><span class="sxs-lookup"><span data-stu-id="44e49-185">Generic assets in public origins, SharePoint user content in private origins</span></span>         |[<span data-ttu-id="44e49-186">结合使用 Office 365 内容传送网络和 SharePoint Online</span><span class="sxs-lookup"><span data-stu-id="44e49-186">Use the Office 365 content delivery network with SharePoint Online</span></span>](use-microsoft-365-cdn-with-spo.md)         |
|<span data-ttu-id="44e49-187">Azure CDN</span><span class="sxs-lookup"><span data-stu-id="44e49-187">Azure CDN</span></span>     |<span data-ttu-id="44e49-188">Microsoft</span><span class="sxs-lookup"><span data-stu-id="44e49-188">Microsoft</span></span>         |<span data-ttu-id="44e49-189">自定义代码、SharePoint 框架解决方案</span><span class="sxs-lookup"><span data-stu-id="44e49-189">Custom code, SharePoint Framework solutions</span></span>         |[<span data-ttu-id="44e49-190">Microsoft Azure CDN</span><span class="sxs-lookup"><span data-stu-id="44e49-190">Microsoft Azure CDN</span></span>](https://azure.microsoft.com/documentation/services/cdn/)         |
|<span data-ttu-id="44e49-191">Microsoft Ajax CDN (只读) </span><span class="sxs-lookup"><span data-stu-id="44e49-191">Microsoft Ajax CDN (read only)</span></span>     |<span data-ttu-id="44e49-192">Microsoft</span><span class="sxs-lookup"><span data-stu-id="44e49-192">Microsoft</span></span>         |<span data-ttu-id="44e49-193">Ajax、jQuery、ASP.NET、Bootstrap、Knockout.js库。</span><span class="sxs-lookup"><span data-stu-id="44e49-193">Common libraries for Ajax, jQuery, ASP.NET, Bootstrap, Knockout.js etc.</span></span>         |[<span data-ttu-id="44e49-194">Microsoft Ajax CDN</span><span class="sxs-lookup"><span data-stu-id="44e49-194">Microsoft Ajax CDN</span></span>](/aspnet/ajax/cdn/overview)         |

## <a name="what-performance-gains-does-a-cdn-provide"></a><span data-ttu-id="44e49-195">性能提升在哪些CDN？</span><span class="sxs-lookup"><span data-stu-id="44e49-195">What performance gains does a CDN provide?</span></span>

<span data-ttu-id="44e49-196">衡量直接从 Office 365 下载的数据与从特定 CDN 下载的数据之间的特定性能差异涉及许多因素，例如相对于租户和最近的 CDN 终结点的位置、CDN 在页面上提供的资产数量，以及网络延迟和带宽的暂时变化。</span><span class="sxs-lookup"><span data-stu-id="44e49-196">There are many factors involved in measuring specific differences in performance between data downloaded directly from Office 365 and data downloaded from a specific CDN, such as your location relative to your tenant and to the nearest CDN endpoint, the number of assets on a page that are served by the CDN, and transient changes in network latency and bandwidth.</span></span> <span data-ttu-id="44e49-197">但是，简单的 A/B 测试有助于显示特定文件的下载时间差异。</span><span class="sxs-lookup"><span data-stu-id="44e49-197">However, a simple A/B test can help to show the difference in download time for a specific file.</span></span>

<span data-ttu-id="44e49-198">以下屏幕截图演示了 Office 365 中的本机文件位置与 Microsoft Ajax 内容分发网络 上托管的相同文件[之间的下载速度差异](/aspnet/ajax/cdn/overview)。</span><span class="sxs-lookup"><span data-stu-id="44e49-198">The following screen shots illustrate the difference in download speed between the native file location in Office 365 and the same file hosted on the [Microsoft Ajax Content Delivery Network](/aspnet/ajax/cdn/overview).</span></span> <span data-ttu-id="44e49-199">这些屏幕截图来自 11 开发人员工具Internet Explorer中的"网络"选项卡。 </span><span class="sxs-lookup"><span data-stu-id="44e49-199">These screen shots are from the **Network** tab in the Internet Explorer 11 developer tools.</span></span> <span data-ttu-id="44e49-200">这些屏幕截图显示了热门库 jQuery 上的延迟。</span><span class="sxs-lookup"><span data-stu-id="44e49-200">These screen shots show the latency on the popular library jQuery.</span></span> <span data-ttu-id="44e49-201">若要显示此屏幕，Internet Explorer按 **F12** 并选择"网络"选项卡，该选项卡上标有Wi-Fi图标。</span><span class="sxs-lookup"><span data-stu-id="44e49-201">To bring up this screen, in Internet Explorer, press **F12** and select the **Network** tab which is symbolized with a Wi-Fi icon.</span></span>
  
![F12 网络的屏幕截图](../media/930541fd-af9b-434a-ae18-7bda867be128.png)
  
<span data-ttu-id="44e49-203">此屏幕快照显示上载到 SharePoint Online 网站本身的母版页样式库。</span><span class="sxs-lookup"><span data-stu-id="44e49-203">This screen shot shows the library uploaded to the master page gallery on the SharePoint Online site itself.</span></span> <span data-ttu-id="44e49-204">上载库所花时间是 1.51 秒。</span><span class="sxs-lookup"><span data-stu-id="44e49-204">The time it took to upload the library is 1.51 seconds.</span></span>
  
![加载时间为 1.51 秒的屏幕截图](../media/64225c79-fa53-480f-81cd-0d351674320e.png)
  
<span data-ttu-id="44e49-206">第二个屏幕截图显示了 Microsoft CDN。</span><span class="sxs-lookup"><span data-stu-id="44e49-206">The second screen shot shows the same file delivered by Microsoft's CDN.</span></span> <span data-ttu-id="44e49-207">这一次延迟约为 496 毫秒。</span><span class="sxs-lookup"><span data-stu-id="44e49-207">This time the latency is around 496 milliseconds.</span></span> <span data-ttu-id="44e49-208">这是一项较大的改进，表明下载对象的总时间将持续一秒钟。</span><span class="sxs-lookup"><span data-stu-id="44e49-208">This is a large improvement and shows that a whole second is shaved off the total time to download the object.</span></span>
  
![加载时间为 469 毫秒的屏幕截图](../media/6a553cc3-25a0-42c1-aae7-4aebbc2eb4c3.png)

## <a name="is-my-data-safe"></a><span data-ttu-id="44e49-210">我的数据是否安全？</span><span class="sxs-lookup"><span data-stu-id="44e49-210">Is my data safe?</span></span>

<span data-ttu-id="44e49-211">我们非常小心保护运行你的业务的数据。</span><span class="sxs-lookup"><span data-stu-id="44e49-211">We take great care to protect the data that runs your business.</span></span> <span data-ttu-id="44e49-212">存储在 Office 365 CDN 的数据在传输中和在其余位置都进行加密，并且对 Office 365 SharePoint CDN 中数据的访问受 Office 365 权限和令牌授权保护。</span><span class="sxs-lookup"><span data-stu-id="44e49-212">Data stored in the Office 365 CDN is encrypted both in transit and at rest, and access to data in the Office 365 SharePoint CDN is secured by Office 365 user permissions and token authorization.</span></span> <span data-ttu-id="44e49-213">必须提交对 Office 365 SharePoint CDN 数据的请求 (从) 租户Office 365重定向，否则不会生成授权令牌。</span><span class="sxs-lookup"><span data-stu-id="44e49-213">Requests for data in the Office 365 SharePoint CDN must be referred (redirected) from your Office 365 tenant or an authorization token will not be generated.</span></span>

<span data-ttu-id="44e49-214">为了确保数据保持安全，建议不要将用户内容或其他敏感数据存储在公共CDN。</span><span class="sxs-lookup"><span data-stu-id="44e49-214">To ensure that your data remains secure, we recommend that you never store user content or other sensitive data in a public CDN.</span></span> <span data-ttu-id="44e49-215">由于对公共网站中数据CDN匿名访问，因此公共 CDN 应仅用于托管常规内容，如 Web 脚本文件、图标、图像和其他非敏感资产。</span><span class="sxs-lookup"><span data-stu-id="44e49-215">Because access to data in a public CDN is anonymous, public CDNs should only be used to host generic content such as web script files, icons, images and other non-sensitive assets.</span></span>

> [!NOTE]
> <span data-ttu-id="44e49-216">第三CDN提供商的隐私和合规性标准可能与信任中心概述Office 365标准不同。</span><span class="sxs-lookup"><span data-stu-id="44e49-216">3rd party CDN providers may have privacy and compliance standards that differ from the commitments outlined by the Office 365 Trust Center.</span></span> <span data-ttu-id="44e49-217">通过 CDN 服务缓存的数据可能不符合 Microsoft 数据处理条款 (DPT) ，并且可能超出 Office 365 信任中心合规性边界。</span><span class="sxs-lookup"><span data-stu-id="44e49-217">Data cached through the CDN service may not conform to the Microsoft Data Processing Terms (DPT), and may be outside of the Office 365 Trust Center compliance boundaries.</span></span>

<span data-ttu-id="44e49-218">有关提供程序的隐私和数据保护的Office 365 CDN，请访问以下内容：</span><span class="sxs-lookup"><span data-stu-id="44e49-218">For in-depth information about privacy and data protection for Office 365 CDN providers, visit the following:</span></span>  

- <span data-ttu-id="44e49-219">在 Microsoft 信任Office 365了解有关保护[隐私和数据保护的信息](https://www.microsoft.com/trustcenter)</span><span class="sxs-lookup"><span data-stu-id="44e49-219">Learn more about Office 365 privacy and data protection at the [Microsoft Trust Center](https://www.microsoft.com/trustcenter)</span></span>
- <span data-ttu-id="44e49-220">在 Akamai 隐私信任中心了解有关[Akamai](https://www.akamai.com/us/en/about/compliance/data-protection-at-akamai.jsp)隐私和数据保护的信息</span><span class="sxs-lookup"><span data-stu-id="44e49-220">Learn more about Akamai’s privacy and data protection at the [Akamai Privacy Trust Center](https://www.akamai.com/us/en/about/compliance/data-protection-at-akamai.jsp)</span></span>
- <span data-ttu-id="44e49-221">在 Azure 信任中心了解有关 Azure 隐私和数据保护 [的信息](https://azure.microsoft.com/overview/trusted-cloud/)</span><span class="sxs-lookup"><span data-stu-id="44e49-221">Learn more about Azure privacy and data protection at the [Azure Trust Center](https://azure.microsoft.com/overview/trusted-cloud/)</span></span>

## <a name="how-can-i-secure-my-network-with-all-these-3rd-party-services"></a><span data-ttu-id="44e49-222">如何使用所有这些第三方服务保护网络？</span><span class="sxs-lookup"><span data-stu-id="44e49-222">How can I secure my network with all these 3rd party services?</span></span>

<span data-ttu-id="44e49-223">利用一组广泛的合作伙伴服务，Office 365扩展并满足可用性要求，并增强使用 Office 365。</span><span class="sxs-lookup"><span data-stu-id="44e49-223">Leveraging an extensive set of partner services allows Office 365 to scale and meet availability requirements as well as enhance the user experience when using Office 365.</span></span> <span data-ttu-id="44e49-224">利用的第三方Office 365包括证书吊销列表;例如 crl.microsoft.com 或 sa.symcb.com CDN;例如 r3.res.outlook.com。</span><span class="sxs-lookup"><span data-stu-id="44e49-224">The 3rd party services Office 365 leverages include both certificate revocation lists; such as crl.microsoft.com or sa.symcb.com, and CDNs; such as r3.res.outlook.com.</span></span> <span data-ttu-id="44e49-225">由 CDN 生成的每个 FQDN Office 365都是自定义 FQDN Office 365。</span><span class="sxs-lookup"><span data-stu-id="44e49-225">Every CDN FQDN generated by Office 365 is a custom FQDN for Office 365.</span></span> <span data-ttu-id="44e49-226">如果您根据请求发送到 FQDN Office 365您可以确保 CDN 提供程序控制该位置的 FQDN 和基础内容。</span><span class="sxs-lookup"><span data-stu-id="44e49-226">If you're sent to a FQDN at the request of Office 365 you can be assured that the CDN provider controls the FQDN and the underlying content at that location.</span></span>
  
<span data-ttu-id="44e49-227">对于希望将发往 Microsoft 或 Office 365 数据中心的请求与发往第三方的请求隔离的客户，我们已编写关于管理[Office 365](https://support.office.com/article/99cab9d4-ef59-4207-9f2b-3728eb46bf9a)终结点的指导。</span><span class="sxs-lookup"><span data-stu-id="44e49-227">For customers that want to segregate requests destined for a Microsoft or Office 365 datacenter from requests that are destined for a 3rd party, we've written up guidance on [Managing Office 365 endpoints](https://support.office.com/article/99cab9d4-ef59-4207-9f2b-3728eb46bf9a).</span></span>

## <a name="is-there-a-list-of-all-the-fqdns-that-leverage-cdns"></a><span data-ttu-id="44e49-228">是否有利用 CDN 的所有 FQ CDN 的列表？</span><span class="sxs-lookup"><span data-stu-id="44e49-228">Is there a list of all the FQDNs that leverage CDNs?</span></span>

<span data-ttu-id="44e49-229">FQDN 列表及其利用 CDN 如何随着时间的推移而更改。</span><span class="sxs-lookup"><span data-stu-id="44e49-229">The list of FQDNs and how they leverage CDNs change over time.</span></span> <span data-ttu-id="44e49-230">请参阅我们发布的[Office 365 URL](./urls-and-ip-address-ranges.md)和 IP 地址范围页面，了解使用 CDN 的最新 FQN。</span><span class="sxs-lookup"><span data-stu-id="44e49-230">Refer to our published [Office 365 URLs and IP address ranges](./urls-and-ip-address-ranges.md) page to get up to date on the latest FQDNs that leverage CDNs.</span></span>

<span data-ttu-id="44e49-231">您还可以使用 Office 365 [IP 地址](microsoft-365-ip-web-service.md)和 URL Web 服务请求当前 URL Office 365格式设置为 CSV 或 JSON 的 IP 地址范围。</span><span class="sxs-lookup"><span data-stu-id="44e49-231">You can also use the [Office 365 IP Address and URL Web service](microsoft-365-ip-web-service.md) to request the current Office 365 URLs and IP address ranges formatted as CSV or JSON.</span></span>

## <a name="can-i-use-my-own-cdn-and-cache-content-on-my-local-network"></a><span data-ttu-id="44e49-232">能否使用我自己的CDN本地网络缓存内容？</span><span class="sxs-lookup"><span data-stu-id="44e49-232">Can I use my own CDN and cache content on my local network?</span></span>

<span data-ttu-id="44e49-233">我们一直在寻找新方法来支持我们的客户需求，并且目前正在探索缓存代理解决方案和其他本地部署CDN的使用。</span><span class="sxs-lookup"><span data-stu-id="44e49-233">We're continually looking for new ways to support our customers needs and are currently exploring the use of caching proxy solutions and other on-premises CDN solutions.</span></span>

<span data-ttu-id="44e49-234">尽管这不是 Office 365 CDN 的一部分，但您也可以使用 **Azure CDN** 托管自定义 Web 部件、库和其他资源资产，这允许您将访问键应用到 CDN 存储，并更好地控制 CDN 配置。</span><span class="sxs-lookup"><span data-stu-id="44e49-234">Although it is not a part of the Office 365 CDN, you can also use the **Azure CDN** for hosting custom web parts, libraries and other resource assets, which allows you to apply access keys to your CDN storage and exert greater control over your CDN configuration.</span></span> <span data-ttu-id="44e49-235">使用 Azure CDN不是免费的，并且需要 Azure 订阅。</span><span class="sxs-lookup"><span data-stu-id="44e49-235">Use of the Azure CDN is not free, and requires an Azure subscription.</span></span> <span data-ttu-id="44e49-236">若要详细了解如何配置 azure 存储Azure CDN，请参阅[快速入门：将 Azure](/azure/cdn/cdn-create-a-storage-account-with-cdn)存储帐户与 Azure CDN 集成。</span><span class="sxs-lookup"><span data-stu-id="44e49-236">For more information on how to configure an Azure CDN instance, see [Quickstart: Integrate an Azure storage account with Azure CDN](/azure/cdn/cdn-create-a-storage-account-with-cdn).</span></span>

## <a name="im-using-azure-expressroute-for-office-365-does-that-change-things"></a><span data-ttu-id="44e49-237">我使用 Azure ExpressRoute 进行Office 365，这是否更改了一切？</span><span class="sxs-lookup"><span data-stu-id="44e49-237">I'm using Azure ExpressRoute for Office 365, does that change things?</span></span>

<span data-ttu-id="44e49-238">[Azure ExpressRoute for Office 365](azure-expressroute.md)提供与与公共 internet 隔离的 Office 365 基础结构的专用连接。</span><span class="sxs-lookup"><span data-stu-id="44e49-238">[Azure ExpressRoute for Office 365](azure-expressroute.md) provides a dedicated connection to Office 365 infrastructure that is segregated from the public internet.</span></span> <span data-ttu-id="44e49-239">这意味着客户端仍然需要通过非 ExpressRoute 连接进行连接，以连接到未明确包含在 ExpressRoute 支持的服务列表中的 CDN 和其他 Microsoft 基础结构。</span><span class="sxs-lookup"><span data-stu-id="44e49-239">This means that clients will still need to connect over non-ExpressRoute connections to connect to CDNs and other Microsoft infrastructure that is not explicitly included in the list of services supported by ExpressRoute.</span></span> <span data-ttu-id="44e49-240">若要详细了解如何路由特定流量（如发往 CDN 的请求），请参阅Office 365[网络流量管理。](routing-with-expressroute.md)</span><span class="sxs-lookup"><span data-stu-id="44e49-240">For more information about how to route specific traffic such as requests destined for CDNs, refer to [Office 365 network traffic management](routing-with-expressroute.md).</span></span>

## <a name="can-i-use-cdns-with-sharepoint-server-on-premises"></a><span data-ttu-id="44e49-241">能否将 CDN 与本地 SharePoint服务器一起使用？</span><span class="sxs-lookup"><span data-stu-id="44e49-241">Can I use CDNs with SharePoint Server on-premises?</span></span>

<span data-ttu-id="44e49-242">仅在 SharePoint Online 上下文中使用 CDN 才有意义，应避免使用 SharePoint Server。</span><span class="sxs-lookup"><span data-stu-id="44e49-242">Using CDNs only makes sense in a SharePoint Online context and should be avoided with SharePoint Server.</span></span> <span data-ttu-id="44e49-243">这是因为，如果服务器位于本地或地理位置靠近，那么地理位置的所有优势都不存在。</span><span class="sxs-lookup"><span data-stu-id="44e49-243">This is because all of the advantages around geographic location do not hold true if the server is located on-premises or geographically close anyway.</span></span> <span data-ttu-id="44e49-244">此外，如果与托管它的服务器存在网络连接，则无需 Internet 连接即可使用站点，因此无法检索CDN文件。</span><span class="sxs-lookup"><span data-stu-id="44e49-244">Additionally, if there is a network connection to the servers where it's hosted, then the site may be used without an Internet connection and therefore cannot retrieve the CDN files.</span></span> <span data-ttu-id="44e49-245">否则，如果CDN库和文件有一个可用且稳定的库，则应该使用资源库。</span><span class="sxs-lookup"><span data-stu-id="44e49-245">Otherwise, you should use a CDN if there is one available and stable for the library and files you need for your site.</span></span>
  
<span data-ttu-id="44e49-246">以下是可以用于返回的简短链接：[https://aka.ms/o365cdns]()</span><span class="sxs-lookup"><span data-stu-id="44e49-246">Here's a short link you can use to come back: [https://aka.ms/o365cdns]()</span></span>
  
## <a name="see-also"></a><span data-ttu-id="44e49-247">另请参阅</span><span class="sxs-lookup"><span data-stu-id="44e49-247">See also</span></span>

[<span data-ttu-id="44e49-248">Office 365 网络连接原则</span><span class="sxs-lookup"><span data-stu-id="44e49-248">Office 365 Network Connectivity Principles</span></span>](./microsoft-365-network-connectivity-principles.md)

[<span data-ttu-id="44e49-249">评估 Office 365 网络连接</span><span class="sxs-lookup"><span data-stu-id="44e49-249">Assessing Office 365 network connectivity</span></span>](assessing-network-connectivity.md)

[<span data-ttu-id="44e49-250">管理 Office 365 终结点</span><span class="sxs-lookup"><span data-stu-id="44e49-250">Managing Office 365 endpoints</span></span>](managing-office-365-endpoints.md)

[<span data-ttu-id="44e49-251">Office 365 URL 和 IP 地址范围</span><span class="sxs-lookup"><span data-stu-id="44e49-251">Office 365 URLs and IP address ranges</span></span>](./urls-and-ip-address-ranges.md)

[<span data-ttu-id="44e49-252">结合使用 Office 365 内容传送网络和 SharePoint Online</span><span class="sxs-lookup"><span data-stu-id="44e49-252">Use the Office 365 content delivery network with SharePoint Online</span></span>](use-microsoft-365-cdn-with-spo.md)

[<span data-ttu-id="44e49-253">Microsoft 信任中心</span><span class="sxs-lookup"><span data-stu-id="44e49-253">Microsoft Trust Center</span></span>](https://www.microsoft.com/trustcenter)

[<span data-ttu-id="44e49-254">优化 Office 365 性能</span><span class="sxs-lookup"><span data-stu-id="44e49-254">Tune Office 365 performance</span></span>](tune-microsoft-365-performance.md)