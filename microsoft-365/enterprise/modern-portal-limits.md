---
title: SharePoint联机新式门户网站限制
ms.author: kvice
author: kelleyvice-msft
manager: laurawi
ms.date: 10/9/2019
audience: Admin
ms.topic: interactive-tutorial
ms.service: o365-administration
localization_priority: Normal
ms.collection:
- Strat_O365_Enterprise
- SPO_Content
f1.keywords:
- CSH
ms.custom:
- Adm_O365
- seo-marvel-apr2020
search.appverid:
- MET150
description: 了解 SharePoint Online 中新式网站的性能建议，例如限制对 Sharepoint 和外部终结点的调用。
ms.openlocfilehash: 28c32be276f6c27194d164708e268a5cd36ac957
ms.sourcegitcommit: 27b2b2e5c41934b918cac2c171556c45e36661bf
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/19/2021
ms.locfileid: "50925316"
---
# <a name="sharepoint-online-modern-portal-site-limits"></a><span data-ttu-id="311f0-103">SharePoint联机新式门户网站限制</span><span class="sxs-lookup"><span data-stu-id="311f0-103">SharePoint Online modern portal site limits</span></span>

<span data-ttu-id="311f0-104">本文为 SharePoint Online 中的新式门户网站提供了性能建议。</span><span class="sxs-lookup"><span data-stu-id="311f0-104">This article provides performance recommendations for modern portal sites in SharePoint Online.</span></span> <span data-ttu-id="311f0-105">使用本文中的指南优化新式门户网站性能并避免常见的性能问题。</span><span class="sxs-lookup"><span data-stu-id="311f0-105">Use the guidelines in this article to optimize modern portal site performance and avoid common performance issues.</span></span>

## <a name="performance-considerations-for-modern-portal-sites"></a><span data-ttu-id="311f0-106">新式门户网站的性能注意事项</span><span class="sxs-lookup"><span data-stu-id="311f0-106">Performance considerations for modern portal sites</span></span>

<span data-ttu-id="311f0-107">从性能优化的角度看，新式门户网站具有一些独特之处。</span><span class="sxs-lookup"><span data-stu-id="311f0-107">From the standpoint of performance optimization, there are a few characteristics that make modern portal sites unique.</span></span> <span data-ttu-id="311f0-108">SharePoint Online 中协作和门户网站之间的主要区别在于规模。</span><span class="sxs-lookup"><span data-stu-id="311f0-108">The principal difference between collaboration and portal sites in SharePoint Online is scale.</span></span> <span data-ttu-id="311f0-109">通常，与协作网站相比，门户网站向更多的用户提供页面视图，并且可能包含更多静态内容和更少的可编辑资源。</span><span class="sxs-lookup"><span data-stu-id="311f0-109">Portal sites are generally expected to serve more page views to a greater number of users than collaboration sites, and are likely to contain more static content and fewer editable resources.</span></span> <span data-ttu-id="311f0-110">此外，新式网站的体系结构与经典网站不同，因为呈现页面和执行代码所涉及的大部分处理都发生在客户端而不是服务器上。</span><span class="sxs-lookup"><span data-stu-id="311f0-110">Additionally, the architecture of modern sites differs from classic sites in that most of the processing involved in rendering pages and executing code takes place on the client rather than the server.</span></span>

<span data-ttu-id="311f0-111">新式门户网站的性能优化主要侧重于几个总体目标：</span><span class="sxs-lookup"><span data-stu-id="311f0-111">Performance optimization for modern portal sites is primarily focused on a few overall objectives:</span></span>

- <span data-ttu-id="311f0-112">减小每个网站页面的组件总大小</span><span class="sxs-lookup"><span data-stu-id="311f0-112">Reduce the total size of the components of each site page</span></span>
- <span data-ttu-id="311f0-113">将常见静态文件（如图像、样式表和脚本）的托管卸载到CDN</span><span class="sxs-lookup"><span data-stu-id="311f0-113">Offload hosting of common static files such as images, stylesheets and scripts to CDN</span></span>
- <span data-ttu-id="311f0-114">仅SharePoint终结点和外部终结点的调用</span><span class="sxs-lookup"><span data-stu-id="311f0-114">Limit calls to SharePoint and external endpoints to only what is necessary</span></span>
- <span data-ttu-id="311f0-115">避免对相同内容重复请求</span><span class="sxs-lookup"><span data-stu-id="311f0-115">Avoid duplicate requests for the same content</span></span>

<span data-ttu-id="311f0-116">本文中的许多指南侧重于最大程度地减少和优化对 SharePoint Online 的调用。</span><span class="sxs-lookup"><span data-stu-id="311f0-116">Many of the guidelines in this article focus on minimizing and optimizing calls to SharePoint Online.</span></span> <span data-ttu-id="311f0-117">每次加载页面时重复调用将影响用户的性能，因为每次从服务检索信息时，即使信息未发生更改。</span><span class="sxs-lookup"><span data-stu-id="311f0-117">Making repetitive calls each time a page is loaded will impact performance for users as the information will be retrieved from the service each time even if it has not changed.</span></span> <span data-ttu-id="311f0-118">因此，可以将对 SharePoint 的请求分类为所有用户通用的呼叫或每个用户所需的呼叫。</span><span class="sxs-lookup"><span data-stu-id="311f0-118">As such, requests to SharePoint can be categorized either as calls that are common for all users or calls required for each individual user.</span></span> <span data-ttu-id="311f0-119">应缓存这两个呼叫类别的结果，以优化用户体验。</span><span class="sxs-lookup"><span data-stu-id="311f0-119">Results from these two call categories should be cached to optimize the user experience.</span></span>

>[!NOTE]
><span data-ttu-id="311f0-120">使用[适用于 SharePoint](./page-diagnostics-for-spo.md)的页面诊断工具作为起点来分析 SharePoint Online 网站页面上的特定性能指标。</span><span class="sxs-lookup"><span data-stu-id="311f0-120">Use the [Page Diagnostics for SharePoint tool](./page-diagnostics-for-spo.md) as a starting point to analyze specific performance metrics on SharePoint Online site pages.</span></span>

## <a name="modern-portal-site-limits-and-recommendations"></a><span data-ttu-id="311f0-121">新式门户网站限制和建议</span><span class="sxs-lookup"><span data-stu-id="311f0-121">Modern portal site limits and recommendations</span></span>

|<span data-ttu-id="311f0-122">**限制**</span><span class="sxs-lookup"><span data-stu-id="311f0-122">**Limit**</span></span>|<span data-ttu-id="311f0-123">**建议的最大值**</span><span class="sxs-lookup"><span data-stu-id="311f0-123">**Maximum recommended value**</span></span>|<span data-ttu-id="311f0-124">**备注**</span><span class="sxs-lookup"><span data-stu-id="311f0-124">**Notes**</span></span>|
|:-----|:-----|:-----|:-----|
|<span data-ttu-id="311f0-125">页面和新闻项</span><span class="sxs-lookup"><span data-stu-id="311f0-125">Pages and news items</span></span>  <br/> |<span data-ttu-id="311f0-126">每个网站 5,000 个</span><span class="sxs-lookup"><span data-stu-id="311f0-126">5,000 per site</span></span>  <br/> |<span data-ttu-id="311f0-127">我们建议将新式门户网站中的页面和新闻项数量限制在 5，000 以下。</span><span class="sxs-lookup"><span data-stu-id="311f0-127">We recommend limiting the number of pages and news items in a modern portal site to below 5,000.</span></span>  <br/> |
|<span data-ttu-id="311f0-128">页面上的 Web 部件</span><span class="sxs-lookup"><span data-stu-id="311f0-128">Web parts on a page</span></span>  <br/> |<span data-ttu-id="311f0-129">每页 20 个</span><span class="sxs-lookup"><span data-stu-id="311f0-129">20 per page</span></span>  <br/> |<span data-ttu-id="311f0-130">我们建议每个页面使用 20 个或更少的 Web 部件，包括开箱即用 Microsoft Web 部件和自定义 Web 部件。</span><span class="sxs-lookup"><span data-stu-id="311f0-130">We recommend using 20 or fewer total web parts per page, including both out-of-the-box Microsoft web parts and custom web parts.</span></span> <br/> <span data-ttu-id="311f0-131">有关详细信息，请参阅优化[SharePoint Online 新式网站页面中的 Web 部件性能](modern-web-part-optimization.md)。</span><span class="sxs-lookup"><span data-stu-id="311f0-131">For more information, see [Optimize web part performance in SharePoint Online modern site pages](modern-web-part-optimization.md).</span></span>  <br/> |
|<span data-ttu-id="311f0-132">页面上的动态 Web 部件</span><span class="sxs-lookup"><span data-stu-id="311f0-132">Dynamic web parts on a page</span></span>  <br/> |<span data-ttu-id="311f0-133">每页 4 个</span><span class="sxs-lookup"><span data-stu-id="311f0-133">4 per page</span></span>  <br/> |<span data-ttu-id="311f0-134">对要获取最新数据SharePoint查询的动态 Web 部件应限制为每页 4 个。</span><span class="sxs-lookup"><span data-stu-id="311f0-134">Dynamic web parts that make one or more queries to SharePoint to fetch the latest data should be limited to 4 per page.</span></span> <span data-ttu-id="311f0-135">新闻 Web 部件是动态 Web 部件的示例。</span><span class="sxs-lookup"><span data-stu-id="311f0-135">The _News_ web part is an example of a dynamic web part.</span></span> <br/> <span data-ttu-id="311f0-136">有关详细信息，请参阅优化[SharePoint Online 新式网站页面中的 Web 部件性能](modern-web-part-optimization.md)。</span><span class="sxs-lookup"><span data-stu-id="311f0-136">For more information, see [Optimize web part performance in SharePoint Online modern site pages](modern-web-part-optimization.md).</span></span>    <br/> |
|<span data-ttu-id="311f0-137">安全组</span><span class="sxs-lookup"><span data-stu-id="311f0-137">Security groups</span></span>  <br/> |<span data-ttu-id="311f0-138">每个站点 20 个</span><span class="sxs-lookup"><span data-stu-id="311f0-138">20 per site</span></span>  <br/> |<span data-ttu-id="311f0-139">安全组的数量会影响新式门户网站中许多查询的规模。</span><span class="sxs-lookup"><span data-stu-id="311f0-139">The number of security groups affects the scale of many queries in modern portal sites.</span></span> <span data-ttu-id="311f0-140">建议您将安全组的数量限制为尽可能小一组，每个网站不超过 20 个。</span><span class="sxs-lookup"><span data-stu-id="311f0-140">We recommend that you limit the number of security groups to as small a set as possible, with no more than 20 per site.</span></span>  <br/> |
|<span data-ttu-id="311f0-141">网站导航中的项目</span><span class="sxs-lookup"><span data-stu-id="311f0-141">Items in site navigation</span></span>  <br/> |<span data-ttu-id="311f0-142">每个站点 100 个</span><span class="sxs-lookup"><span data-stu-id="311f0-142">100 per site</span></span>  <br/> |<span data-ttu-id="311f0-143">我们建议将少于 100 个项目添加到网站导航，并且使用开箱即用导航控件。</span><span class="sxs-lookup"><span data-stu-id="311f0-143">We recommend adding fewer than 100 items to site navigation, and that you make use of out-of-the-box navigation controls.</span></span>  <br/> <span data-ttu-id="311f0-144">有关详细信息，请参阅优化[SharePoint Online 新式网站页面中的页面权重](modern-page-weight-optimization.md)。</span><span class="sxs-lookup"><span data-stu-id="311f0-144">For more information, see [Optimize page weight in SharePoint Online modern site pages](modern-page-weight-optimization.md).</span></span> <br/> |
|<span data-ttu-id="311f0-145">最大图像大小</span><span class="sxs-lookup"><span data-stu-id="311f0-145">Maximum image size</span></span>  <br/> |<span data-ttu-id="311f0-146">每个图像 300 Kb</span><span class="sxs-lookup"><span data-stu-id="311f0-146">300 Kb per image</span></span>  <br/> |<span data-ttu-id="311f0-147">我们建议将图像大小限制在 300kb 或更小，CDN用于托管图像、样式表和脚本。</span><span class="sxs-lookup"><span data-stu-id="311f0-147">We recommend limiting the size of images to 300kb or smaller, and using a CDN to host images, stylesheets and scripts.</span></span> <br/><span data-ttu-id="311f0-148">有关详细信息，请参阅优化[SharePoint Online](modern-image-optimization.md)新式网站页面中的图像和使用 Office 365 内容分发网络 (CDN) [Online SharePoint图像](use-microsoft-365-cdn-with-spo.md)。</span><span class="sxs-lookup"><span data-stu-id="311f0-148">For more information, see [Optimize images in SharePoint Online modern site pages](modern-image-optimization.md) and [Use the Office 365 Content Delivery Network (CDN) with SharePoint Online](use-microsoft-365-cdn-with-spo.md).</span></span>  <br/> |
|<span data-ttu-id="311f0-149">具有编辑权限的用户</span><span class="sxs-lookup"><span data-stu-id="311f0-149">Users with edit rights</span></span>  <br/> |<span data-ttu-id="311f0-150">每个网站 200 个用户</span><span class="sxs-lookup"><span data-stu-id="311f0-150">200 users per site</span></span>  <br/> |<span data-ttu-id="311f0-151">SharePoint门户网站已针对查看和使用内容进行了优化。</span><span class="sxs-lookup"><span data-stu-id="311f0-151">SharePoint portal sites are optimized for viewing and consuming content.</span></span> <span data-ttu-id="311f0-152">门户上的编辑权限应限制为受限的一组用户，因为编辑权限会下载其他控件，因此这些用户的执行速度将会变慢。</span><span class="sxs-lookup"><span data-stu-id="311f0-152">Edit permissions on a portal should be limited to a restricted group of users because edit permissions download additional controls and will therefore perform slower for those users.</span></span> <span data-ttu-id="311f0-153">因此，具有编辑权限的用户过多会影响整体体验。</span><span class="sxs-lookup"><span data-stu-id="311f0-153">An excessive number of users with edit permissions will therefore affect the overall experience.</span></span> <br/> |
|<span data-ttu-id="311f0-154">第三方 iFrame</span><span class="sxs-lookup"><span data-stu-id="311f0-154">Third party iFrames</span></span>  <br/> |<span data-ttu-id="311f0-155">每页 2 个</span><span class="sxs-lookup"><span data-stu-id="311f0-155">2 per page</span></span>  <br/> |<span data-ttu-id="311f0-156">iFrame 的速度不可预测，因为它们加载一个单独的外部页面，包括所有关联的内容，如 javascript、CSS 和框架元素。</span><span class="sxs-lookup"><span data-stu-id="311f0-156">iFrames are unpredictably slow because they load a separate external page including all associated content such as javascript, CSS and framework elements.</span></span> <span data-ttu-id="311f0-157">如果必须使用 iFrame，请限制每个页面的数量为 2 个或更少。</span><span class="sxs-lookup"><span data-stu-id="311f0-157">If you must use iFrames, limit their number to 2 or fewer per page.</span></span><br/> <span data-ttu-id="311f0-158">有关详细信息，请参阅优化[SharePoint Online 新式和经典发布网站页面中的 iFrame。](modern-iframe-optimization.md)</span><span class="sxs-lookup"><span data-stu-id="311f0-158">For more information, see [Optimize iFrames in SharePoint Online modern and classic publishing site pages](modern-iframe-optimization.md).</span></span> <br/> |
|<span data-ttu-id="311f0-159">对 UPA 服务的呼叫</span><span class="sxs-lookup"><span data-stu-id="311f0-159">Calls to the UPA service</span></span>  <br/> |<span data-ttu-id="311f0-160">每个用户每小时 1 个</span><span class="sxs-lookup"><span data-stu-id="311f0-160">1 per user per hour</span></span>  <br/> |<span data-ttu-id="311f0-161">建议您不要对 UpA _和 User_ Profile Application (服务进行) 调用。</span><span class="sxs-lookup"><span data-stu-id="311f0-161">We recommend that you make no _per request_ calls to the UPA (User Profile Application) service.</span></span> <span data-ttu-id="311f0-162">[Microsoft Graph API](/graph/call-api)和[PageContext](/javascript/api/sp-page-context/pagecontext?view=sp-typescript-latest)可用于查询用户信息。</span><span class="sxs-lookup"><span data-stu-id="311f0-162">The [Microsoft Graph API](/graph/call-api) and [PageContext](/javascript/api/sp-page-context/pagecontext?view=sp-typescript-latest) can be used to query for user information.</span></span>  <br/> <span data-ttu-id="311f0-163">如果需要 UPA 服务调用，请在必要时进行一次调用，然后缓存信息以在同一会话中重复使用。</span><span class="sxs-lookup"><span data-stu-id="311f0-163">If a UPA service call is necessary, make a single call when required, and then cache the information for reuse in the same session.</span></span> |
|<span data-ttu-id="311f0-164">对分类服务的调用</span><span class="sxs-lookup"><span data-stu-id="311f0-164">Calls to the Taxonomy service</span></span>  <br/> |<span data-ttu-id="311f0-165">每个用户每小时 5 个</span><span class="sxs-lookup"><span data-stu-id="311f0-165">5 per user per hour</span></span>  <br/> |<span data-ttu-id="311f0-166">建议您不要对分类 _服务_ 进行每个请求调用。</span><span class="sxs-lookup"><span data-stu-id="311f0-166">We recommend that you make no _per request_ calls to the Taxonomy service.</span></span> <span data-ttu-id="311f0-167">如果需要分类服务调用，请缓存信息以在同一会话中重复使用。</span><span class="sxs-lookup"><span data-stu-id="311f0-167">If Taxonomy service calls are necessary, cache the information for reuse in the same session.</span></span> <br/> <span data-ttu-id="311f0-168">有关详细信息，请参阅优化[SharePoint Online 新式和经典发布网站页面中的页面调用](modern-page-call-optimization.md)。</span><span class="sxs-lookup"><span data-stu-id="311f0-168">For more information, see [Optimize page calls in SharePoint Online modern and classic publishing site pages](modern-page-call-optimization.md).</span></span> <br/> |

## <a name="related-topics"></a><span data-ttu-id="311f0-169">相关主题</span><span class="sxs-lookup"><span data-stu-id="311f0-169">Related topics</span></span>

[<span data-ttu-id="311f0-170">创建正常运行SharePoint门户</span><span class="sxs-lookup"><span data-stu-id="311f0-170">Creating a healthy SharePoint portal</span></span>](/sharepoint/portal-health)

[<span data-ttu-id="311f0-171">优化 SharePoint Online 性能</span><span class="sxs-lookup"><span data-stu-id="311f0-171">Tune SharePoint Online performance</span></span>](tune-sharepoint-online-performance.md)

[<span data-ttu-id="311f0-172">优化 Office 365 性能</span><span class="sxs-lookup"><span data-stu-id="311f0-172">Tune Office 365 performance</span></span>](tune-microsoft-365-performance.md)

[<span data-ttu-id="311f0-173">SharePoint Online 限制</span><span class="sxs-lookup"><span data-stu-id="311f0-173">SharePoint Online limits</span></span>](/office365/servicedescriptions/sharepoint-online-service-description/sharepoint-online-limits)

[<span data-ttu-id="311f0-174">新式 SharePoint 体验中的性能</span><span class="sxs-lookup"><span data-stu-id="311f0-174">Performance in the modern SharePoint experience</span></span>](/sharepoint/modern-experience-performance)

[<span data-ttu-id="311f0-175">SharePoint Online 门户性能指南</span><span class="sxs-lookup"><span data-stu-id="311f0-175">Performance guidance for SharePoint Online portals</span></span>](/sharepoint/dev/solution-guidance/portal-performance)