---
title: 使用适用于 SharePoint Online 的页面诊断工具
ms.author: kvice
author: kelleyvice-msft
manager: laurawi
ms.date: 06/03/2020
audience: Admin
ms.topic: article
ms.service: o365-administration
localization_priority: Normal
ms.collection:
- Ent_O365
- SPO_Content
search.appverid:
- MET150
- SPO160
- MOE150
- BSA160
f1.keywords:
- NOCSH
description: 使用适用于 SharePoint 的页面诊断工具SharePoint预定义的性能标准集来分析 SharePoint Online 新式门户和经典发布页面。
ms.openlocfilehash: b55e5c04f56bac4e6313284de60753d1beaaaed1
ms.sourcegitcommit: 27b2b2e5c41934b918cac2c171556c45e36661bf
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/19/2021
ms.locfileid: "50921626"
---
# <a name="use-the-page-diagnostics-for-sharepoint-tool"></a><span data-ttu-id="52dbc-103">使用适用于用户的页面诊断SharePoint工具</span><span class="sxs-lookup"><span data-stu-id="52dbc-103">Use the Page Diagnostics for SharePoint tool</span></span>

<span data-ttu-id="52dbc-104">本文介绍如何使用适用于 **SharePoint** 的页面诊断工具根据一组预定义的性能SharePoint分析 SharePoint Online 新式和经典网站页面。</span><span class="sxs-lookup"><span data-stu-id="52dbc-104">This article describes how to use the **Page Diagnostics for SharePoint tool** to analyze SharePoint Online modern and classic site pages against a pre-defined set of performance criteria.</span></span>

<span data-ttu-id="52dbc-105">可针对以下SharePoint页面诊断工具：</span><span class="sxs-lookup"><span data-stu-id="52dbc-105">The Page Diagnostics for SharePoint tool can be installed for:</span></span>

- <span data-ttu-id="52dbc-106">**Microsoft Edge (**[边缘扩展)](https://microsoftedge.microsoft.com/addons/detail/ocemkolpnamjcacndljdfmhlpcaoipji)</span><span class="sxs-lookup"><span data-stu-id="52dbc-106">**Microsoft Edge** [(Edge extension)](https://microsoftedge.microsoft.com/addons/detail/ocemkolpnamjcacndljdfmhlpcaoipji)</span></span>
- <span data-ttu-id="52dbc-107">**Chrome** [ (Chrome 扩展)](https://chrome.google.com/webstore/detail/inahogkhlkbkjkkaleonemeijihmfagi)</span><span class="sxs-lookup"><span data-stu-id="52dbc-107">**Chrome** [(Chrome extension)](https://chrome.google.com/webstore/detail/inahogkhlkbkjkkaleonemeijihmfagi)</span></span>

>[!TIP]
><span data-ttu-id="52dbc-108">版本 **2.0.0** 及更高版本包括对新式页面以及经典网站页面的支持。</span><span class="sxs-lookup"><span data-stu-id="52dbc-108">Version **2.0.0** and later includes support for modern pages in addition to classic site pages.</span></span> <span data-ttu-id="52dbc-109">如果你不确定使用哪种版本的工具，可以选择"关于"链接或省略号 (...) 验证你的版本。 </span><span class="sxs-lookup"><span data-stu-id="52dbc-109">If you are unsure which version of the tool you are using, you can select the **About** link or the ellipses (...) to verify your version.</span></span> <span data-ttu-id="52dbc-110">**使用该工具时，始终** 更新到最新版本。</span><span class="sxs-lookup"><span data-stu-id="52dbc-110">**Always update to the latest version** when using the tool.</span></span>

<span data-ttu-id="52dbc-111">适用于 SharePoint 的页面诊断工具是一款面向新 Microsoft Edge（https://www.microsoft.com/edge) 和 Chrome 浏览器）的浏览器扩展，可用于分析 SharePoint Online 新式门户和经典发布网站页面。</span><span class="sxs-lookup"><span data-stu-id="52dbc-111">The Page Diagnostics for SharePoint tool is a browser extension for the new Microsoft Edge (https://www.microsoft.com/edge) and Chrome browsers that analyzes both SharePoint Online modern portal and classic publishing site pages.</span></span> <span data-ttu-id="52dbc-112">此工具仅适用于 SharePoint Online，不能用于 SharePoint 系统页面。</span><span class="sxs-lookup"><span data-stu-id="52dbc-112">This tool only works for SharePoint Online, and cannot be used on a SharePoint system page.</span></span>

<span data-ttu-id="52dbc-113">该工具将针对每个分析的页面生成一个报告，其中显示页面如何针对预定义的规则集执行，并显示测试的结果超出基线值时的详细信息。</span><span class="sxs-lookup"><span data-stu-id="52dbc-113">The tool generates a report for each analyzed page showing how the page performs against a pre-defined set of rules and displays detailed information when results for a test fall outside the baseline value.</span></span> <span data-ttu-id="52dbc-114">SharePoint联机管理员和设计人员可以使用该工具解决性能问题，并确保新页面在发布之前已经过优化。</span><span class="sxs-lookup"><span data-stu-id="52dbc-114">SharePoint Online administrators and designers can use the tool to troubleshoot performance issues and to ensure that new pages are optimized prior to publishing.</span></span>

<span data-ttu-id="52dbc-115">页面诊断工具旨在仅分析SharePoint网页，而不是分析系统页面（如 *allitems.aspx* 或 *sharepoint.aspx）。*</span><span class="sxs-lookup"><span data-stu-id="52dbc-115">The Page Diagnostics tool is designed to analyze SharePoint site pages only, not system pages such as *allitems.aspx* or *sharepoint.aspx*.</span></span> <span data-ttu-id="52dbc-116">如果您尝试在系统页面或其他任何非网站页面上运行该工具，您将收到一条错误消息，提示无法针对该类型的页面运行该工具。</span><span class="sxs-lookup"><span data-stu-id="52dbc-116">If you attempt to run the tool on a system page or any other non-site page, you will receive an error message advising that the tool cannot be run for that type of page.</span></span>

> [!div class="mx-imgBorder"]
> <span data-ttu-id="52dbc-117">![必须在页面SharePoint运行](../media/page-diagnostics-for-spo/pagediag-Error-StartPage.png)</span><span class="sxs-lookup"><span data-stu-id="52dbc-117">![Must run on a SharePoint page](../media/page-diagnostics-for-spo/pagediag-Error-StartPage.png)</span></span>

<span data-ttu-id="52dbc-118">此工具没有错误，因为评估库或系统页面没有任何价值。</span><span class="sxs-lookup"><span data-stu-id="52dbc-118">This is not an error in the tool as there is no value in assessing libraries or system pages.</span></span> <span data-ttu-id="52dbc-119">请导航到SharePoint网站页面以使用该工具。</span><span class="sxs-lookup"><span data-stu-id="52dbc-119">Please navigate to a SharePoint site page to use the tool.</span></span> <span data-ttu-id="52dbc-120">如果此错误发生在SharePoint页上，请检查母版页以确保尚未SharePoint元标记。</span><span class="sxs-lookup"><span data-stu-id="52dbc-120">If this error occurs on a SharePoint page, please check the master page to ensure that the SharePoint metatags have not been removed.</span></span>

<span data-ttu-id="52dbc-121">若要提供有关工具的反馈，请选择工具右上角的省略号，然后选择"提供[反馈"。](https://go.microsoft.com/fwlink/?linkid=874109)</span><span class="sxs-lookup"><span data-stu-id="52dbc-121">To provide feedback about the tool, select the ellipsis at the top right corner of the tool and then select [Give feedback](https://go.microsoft.com/fwlink/?linkid=874109).</span></span>

> [!div class="mx-imgBorder"]
> <span data-ttu-id="52dbc-122">![提供反馈](../media/page-diagnostics-for-spo/pagediag-feedback.png)</span><span class="sxs-lookup"><span data-stu-id="52dbc-122">![Give feedback](../media/page-diagnostics-for-spo/pagediag-feedback.png)</span></span>
  
## <a name="install-the-page-diagnostics-for-sharepoint-tool"></a><span data-ttu-id="52dbc-123">安装适用于 SharePoint 的页面诊断工具</span><span class="sxs-lookup"><span data-stu-id="52dbc-123">Install the Page Diagnostics for SharePoint tool</span></span>

<span data-ttu-id="52dbc-124">本节中的安装过程适用于 Chrome 和 Microsoft Edge 浏览器。</span><span class="sxs-lookup"><span data-stu-id="52dbc-124">The installation procedure in this section will work for both the Chrome and Microsoft Edge browsers.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="52dbc-125">Microsoft 不会读取由适用于 SharePoint 的页面诊断工具分析的数据或页面内容，并且我们不会捕获任何个人信息、网站或下载信息。</span><span class="sxs-lookup"><span data-stu-id="52dbc-125">Microsoft does not read data or page content that is analyzed by the Page Diagnostics for SharePoint tool, and we do not capture any personal information, website or download information.</span></span> <span data-ttu-id="52dbc-126">该工具记录到 Microsoft 的唯一可识别信息是租户名称、失败的规则计数以及工具运行的日期和时间。</span><span class="sxs-lookup"><span data-stu-id="52dbc-126">The only identifiable information logged to Microsoft by the tool is the tenant name, counts of rules that have failed and the date and time the tool was run.</span></span> <span data-ttu-id="52dbc-127">Microsoft 使用此信息来更好地了解新式门户和发布网站使用趋势以及常见的性能问题。</span><span class="sxs-lookup"><span data-stu-id="52dbc-127">This information is used by Microsoft to better understand modern portal and publishing site usage trends and common performance issues.</span></span>

1. <span data-ttu-id="52dbc-128">安装适用于 SharePoint Edge 扩展 Microsoft Edge ( [或](https://microsoftedge.microsoft.com/addons/detail/ocemkolpnamjcacndljdfmhlpcaoipji) **Chrome**) Chrome 扩展 ([诊断](https://chrome.google.com/webstore/detail/inahogkhlkbkjkkaleonemeijihmfagi)) 。</span><span class="sxs-lookup"><span data-stu-id="52dbc-128">Install the Page Diagnostics for SharePoint tool for **Microsoft Edge** [(Edge extension)](https://microsoftedge.microsoft.com/addons/detail/ocemkolpnamjcacndljdfmhlpcaoipji) or **Chrome** [(Chrome extension)](https://chrome.google.com/webstore/detail/inahogkhlkbkjkkaleonemeijihmfagi).</span></span> <span data-ttu-id="52dbc-129">请查看应用商店中的说明页面上提供的用户隐私策略。</span><span class="sxs-lookup"><span data-stu-id="52dbc-129">Please review the User Privacy Policy provided on the description page in the store.</span></span> <span data-ttu-id="52dbc-130">将工具添加到浏览器时，你将看到以下权限通知。</span><span class="sxs-lookup"><span data-stu-id="52dbc-130">When adding the tool to your browser, you will see the following permissions notice.</span></span>

    > [!div class="mx-imgBorder"]
    > <span data-ttu-id="52dbc-131">![扩展权限](../media/page-diagnostics-for-spo/pagediag-add-to-edge.png)</span><span class="sxs-lookup"><span data-stu-id="52dbc-131">![Extension permissions](../media/page-diagnostics-for-spo/pagediag-add-to-edge.png)</span></span>

    <span data-ttu-id="52dbc-132">此通知就位是因为页面可能包含来自外部SharePoint的内容，具体取决于页面上的 Web 部件和自定义项。</span><span class="sxs-lookup"><span data-stu-id="52dbc-132">This notice is in place because a page may contain content from locations outside of SharePoint depending on the web parts and customizations on the page.</span></span> <span data-ttu-id="52dbc-133">这意味着，在单击"开始"按钮时，该工具将读取请求和响应，并且仅针对SharePoint运行该工具的活动"开始"选项卡。</span><span class="sxs-lookup"><span data-stu-id="52dbc-133">This means that the tool will read the requests and responses when the start button is clicked and only for the active SharePoint tab where the tool is running.</span></span> <span data-ttu-id="52dbc-134">此信息由 Web 浏览器本地捕获，并且可通过工具的"网络跟踪"选项卡中的"导出到 **JSON"** 或"导出到 **HAR"** 按钮 _提供给你。_ 该信息不会发送到 Microsoft 或由 **Microsoft** 捕获。</span><span class="sxs-lookup"><span data-stu-id="52dbc-134">This information is captured locally by the web browser and is available to you via the **Export to JSON** or **Export to HAR** button in the tool's _Network trace_ tab. **The information is not sent to or captured by Microsoft.**</span></span> <span data-ttu-id="52dbc-135"> (该工具遵守可在此处访问的 Microsoft 隐私策略[) ](https://go.microsoft.com/fwlink/p/?linkid=857875)</span><span class="sxs-lookup"><span data-stu-id="52dbc-135">(The tool respects the Microsoft privacy policy accessible [here](https://go.microsoft.com/fwlink/p/?linkid=857875).)</span></span>

    <span data-ttu-id="52dbc-136">" _管理下载"_ 权限涵盖了工具的 **"导出到 JSON"功能的** 使用。</span><span class="sxs-lookup"><span data-stu-id="52dbc-136">The _Manage your downloads_ permission covers use of the tool's **Export to JSON** functionality.</span></span> <span data-ttu-id="52dbc-137">在组织外部共享 JSON 文件之前，请遵循贵公司的隐私准则，因为结果包含 URL，并且可将其分类为个人身份信息 (PII) 。</span><span class="sxs-lookup"><span data-stu-id="52dbc-137">Please follow your company's own privacy guidelines before sharing the JSON file outside of your organization, as the results contain URLs and that can be classified as PII (Personally Identifiable Information).</span></span>
1. <span data-ttu-id="52dbc-138">如果要在 Incognito 或 InPrivate 模式下使用该工具，请按照浏览器的过程操作：</span><span class="sxs-lookup"><span data-stu-id="52dbc-138">If you want to use the tool in Incognito or InPrivate mode, follow the procedure for your browser:</span></span>
    1. <span data-ttu-id="52dbc-139">In Microsoft Edge， navigate to **Extensions** or type _edge://extensions_ in the URL bar and select **Details** for the extension.</span><span class="sxs-lookup"><span data-stu-id="52dbc-139">In Microsoft Edge, navigate to **Extensions** or type _edge://extensions_ in the URL bar and select **Details** for the extension.</span></span> <span data-ttu-id="52dbc-140">在扩展设置中，选中 **InPrivate 中的"允许"复选框**。</span><span class="sxs-lookup"><span data-stu-id="52dbc-140">In the extension settings, select the checkbox for **allow in InPrivate**.</span></span>
    1. <span data-ttu-id="52dbc-141">在 Chrome 中，导航到"**扩展"或**_chrome://extensions_ URL 栏中键入"扩展"，然后选择 **"扩展** 的详细信息"。</span><span class="sxs-lookup"><span data-stu-id="52dbc-141">In Chrome, navigate to **Extensions** or type _chrome://extensions_ in the URL bar and select **Details** for the extension.</span></span> <span data-ttu-id="52dbc-142">在扩展设置中，选择允许 **Incognito 中的滑块**。</span><span class="sxs-lookup"><span data-stu-id="52dbc-142">In the extension settings, select the slider for **allow in Incognito**.</span></span>
1. <span data-ttu-id="52dbc-143">导航到 SharePoint Online 上要SharePoint查看的"网站"页面。</span><span class="sxs-lookup"><span data-stu-id="52dbc-143">Navigate to the SharePoint site page on SharePoint Online that you would like to review.</span></span> <span data-ttu-id="52dbc-144">我们已允许在页面上"延迟加载"项目;因此，该工具不会自动停止 (这是为适应所有页面加载方案) 。</span><span class="sxs-lookup"><span data-stu-id="52dbc-144">We have allowed for "delay loading" of items on pages; therefore, the tool will not stop automatically (this is by design to accommodate all page load scenarios).</span></span> <span data-ttu-id="52dbc-145">若要停止集合，请选择"停止 **"。**</span><span class="sxs-lookup"><span data-stu-id="52dbc-145">To stop collection, select **Stop**.</span></span> <span data-ttu-id="52dbc-146">请确保在停止数据收集之前已完成页面加载，否则您将只捕获部分跟踪。</span><span class="sxs-lookup"><span data-stu-id="52dbc-146">Make sure that the page load has completed before you stop data collection or you will only capture a partial trace.</span></span>
1. <span data-ttu-id="52dbc-147">单击扩展的工具栏按钮</span><span class="sxs-lookup"><span data-stu-id="52dbc-147">Click on the extension's toolbar button</span></span> ![用于徽标的页面SharePoint诊断](../media/page-diagnostics-for-spo/pagediag-icon32.png) <span data-ttu-id="52dbc-149">加载该工具，你将被显示以下扩展弹出窗口：</span><span class="sxs-lookup"><span data-stu-id="52dbc-149">to load the tool and you will be presented with the following extension popup window:</span></span>

    ![页面诊断工具弹出窗口](../media/page-diagnostics-for-spo/pagediag-Landing.png)

<span data-ttu-id="52dbc-151">选择 **"** 开始"开始收集数据进行分析。</span><span class="sxs-lookup"><span data-stu-id="52dbc-151">Select **Start** to begin collecting data for analysis.</span></span>

## <a name="what-youll-see-in-the-page-diagnostics-for-sharepoint-tool"></a><span data-ttu-id="52dbc-152">你将在页面诊断 for SharePoint 工具中看到的内容</span><span class="sxs-lookup"><span data-stu-id="52dbc-152">What you'll see in the Page Diagnostics for SharePoint tool</span></span>

1. <span data-ttu-id="52dbc-153">单击工具右上角 (...) 省略号以查找以下链接：</span><span class="sxs-lookup"><span data-stu-id="52dbc-153">Click the ellipses (...) in the top right corner of the tool to find the following links:</span></span>
   1. <span data-ttu-id="52dbc-154">" **其他资源** "链接提供有关工具的一般指南和详细信息，包括本文的链接。</span><span class="sxs-lookup"><span data-stu-id="52dbc-154">The **Additional resources** link provides general guidance and details regarding the tool including a link back to this article.</span></span>
   1. <span data-ttu-id="52dbc-155">"**提供反馈**"链接提供指向"网站SharePoint _协作用户语音"_ 网站的链接。</span><span class="sxs-lookup"><span data-stu-id="52dbc-155">The **Give feedback** link provides a link to the _SharePoint Sites and Collaboration User Voice_ site.</span></span>
   1. <span data-ttu-id="52dbc-156">" **关于** "链接包括当前安装的工具版本和指向工具的第三方通知的直接链接。</span><span class="sxs-lookup"><span data-stu-id="52dbc-156">The **About** link includes the currently installed version of the tool and a direct link to the tool's third party notice.</span></span>  
1. <span data-ttu-id="52dbc-157">相关 **ID、SPRequestDuration、SPIISLatency、\*\*\*\*页面** 加载时间和 **URL** 详细信息是信息性的，可用于几个目的。</span><span class="sxs-lookup"><span data-stu-id="52dbc-157">The **Correlation ID, SPRequestDuration, SPIISLatency**, **Page load time**, and **URL** details are informational and can be used for a few purposes.</span></span>

    > [!div class="mx-imgBorder"]
    > <span data-ttu-id="52dbc-158">![页面诊断详细信息](../media/page-diagnostics-for-spo/pagediag-details.PNG)</span><span class="sxs-lookup"><span data-stu-id="52dbc-158">![Page diagnostics details](../media/page-diagnostics-for-spo/pagediag-details.PNG)</span></span>

   - <span data-ttu-id="52dbc-159">**CorrelationID** 是使用 Microsoft 支持时的重要元素，因为它允许他们收集特定页面的其他诊断数据。</span><span class="sxs-lookup"><span data-stu-id="52dbc-159">**CorrelationID** is an important element when working with Microsoft Support as it allows them to gather additional diagnostic data for the specific page.</span></span>
   - <span data-ttu-id="52dbc-160">**SPRequestDuration** 是用户SharePoint页面所花时间。</span><span class="sxs-lookup"><span data-stu-id="52dbc-160">**SPRequestDuration** is the time taken for SharePoint to process the page.</span></span> <span data-ttu-id="52dbc-161">结构导航、大型图像和大量 API 调用都可能导致持续时间较长。</span><span class="sxs-lookup"><span data-stu-id="52dbc-161">Structural navigation, large images, lots of API calls could all contribute to longer durations.</span></span>
   - <span data-ttu-id="52dbc-162">**SPIISLatency** 是联机加载页面SharePoint所花的时间（以毫秒为单位）。</span><span class="sxs-lookup"><span data-stu-id="52dbc-162">**SPIISLatency** is the time in milliseconds taken for SharePoint Online begin loading the page.</span></span> <span data-ttu-id="52dbc-163">此值不包括 Web 应用程序响应所花时间。</span><span class="sxs-lookup"><span data-stu-id="52dbc-163">This value does not include the time taken for the web application to respond.</span></span>
   - <span data-ttu-id="52dbc-164">**页面加载** 时间是页面从请求时间到接收响应并呈现在浏览器中时记录的总时间。</span><span class="sxs-lookup"><span data-stu-id="52dbc-164">**Page load time** is the total time recorded by the page from the time of the request to the time the response was received and rendered in the browser.</span></span> <span data-ttu-id="52dbc-165">此值受各种因素影响，包括网络延迟、计算机的性能以及浏览器加载页面所花的时间。</span><span class="sxs-lookup"><span data-stu-id="52dbc-165">This value is affected by a variety of factors including network latency, the performance of the computer and the time it takes for the browser to load the page.</span></span>
   - <span data-ttu-id="52dbc-166">统 **一** (定位器) Url 是当前页面的 Web 地址。</span><span class="sxs-lookup"><span data-stu-id="52dbc-166">The **Page URL** (Uniform Resource Locator) is the web address of the current page.</span></span>

1. <span data-ttu-id="52dbc-167">"[**诊断测试**](#how-to-use-the-diagnostic-tests-tab)"选项卡按三个类别显示分析结果;**无需任何操作**，**改进机会\*\*\*\*和关注也是必需的**。</span><span class="sxs-lookup"><span data-stu-id="52dbc-167">The [**Diagnostic tests**](#how-to-use-the-diagnostic-tests-tab) tab displays the analysis results in three categories; **No action required**, **Improvement opportunities** and **Attention required**.</span></span> <span data-ttu-id="52dbc-168">每个测试结果由这些类别中的某个项目表示，如下表所述：</span><span class="sxs-lookup"><span data-stu-id="52dbc-168">Each test result is represented by an item in one of these categories as described in the following table:</span></span>

    |<span data-ttu-id="52dbc-169">类别</span><span class="sxs-lookup"><span data-stu-id="52dbc-169">Category</span></span>  |<span data-ttu-id="52dbc-170">颜色</span><span class="sxs-lookup"><span data-stu-id="52dbc-170">Color</span></span>  |<span data-ttu-id="52dbc-171">说明</span><span class="sxs-lookup"><span data-stu-id="52dbc-171">Description</span></span>  |
    |---------|---------|---------|
    |<span data-ttu-id="52dbc-172">**需要关注**</span><span class="sxs-lookup"><span data-stu-id="52dbc-172">**Attention required**</span></span> |<span data-ttu-id="52dbc-173">红色</span><span class="sxs-lookup"><span data-stu-id="52dbc-173">Red</span></span> |<span data-ttu-id="52dbc-174">测试结果超出基线值，并且会影响页面性能。</span><span class="sxs-lookup"><span data-stu-id="52dbc-174">Test result falls outside the baseline value and is affecting page performance.</span></span> <span data-ttu-id="52dbc-175">按照修正指南操作。</span><span class="sxs-lookup"><span data-stu-id="52dbc-175">Follow remediation guidance.</span></span>|
    |<span data-ttu-id="52dbc-176">**改进机会**</span><span class="sxs-lookup"><span data-stu-id="52dbc-176">**Improvement opportunities**</span></span> |<span data-ttu-id="52dbc-177">黄色</span><span class="sxs-lookup"><span data-stu-id="52dbc-177">Yellow</span></span> |<span data-ttu-id="52dbc-178">测试结果超出基线值，可能导致性能问题。</span><span class="sxs-lookup"><span data-stu-id="52dbc-178">Test result falls outside the baseline value and could be contributing to performance issues.</span></span> <span data-ttu-id="52dbc-179">测试特定的条件可能适用。</span><span class="sxs-lookup"><span data-stu-id="52dbc-179">Test-specific criteria may apply.</span></span>|
    |<span data-ttu-id="52dbc-180">**不需要执行任何操作**</span><span class="sxs-lookup"><span data-stu-id="52dbc-180">**No action required**</span></span> |<span data-ttu-id="52dbc-181">绿色</span><span class="sxs-lookup"><span data-stu-id="52dbc-181">Green</span></span> |<span data-ttu-id="52dbc-182">测试结果在测试的基线值之内。</span><span class="sxs-lookup"><span data-stu-id="52dbc-182">Test result falls within the test's baseline value.</span></span>|

    > [!div class="mx-imgBorder"]
    > <span data-ttu-id="52dbc-183">![页面诊断](../media/page-diagnostics-for-spo/pagediag-results-general.PNG)</span><span class="sxs-lookup"><span data-stu-id="52dbc-183">![Page diagnostics](../media/page-diagnostics-for-spo/pagediag-results-general.PNG)</span></span>

1. <span data-ttu-id="52dbc-184">" [**网络跟踪**](#how-to-use-the-network-trace-tab-and-how-to-export-a-har-file) "选项卡提供有关页面生成请求和响应的详细信息。</span><span class="sxs-lookup"><span data-stu-id="52dbc-184">A [**Network trace**](#how-to-use-the-network-trace-tab-and-how-to-export-a-har-file) tab provides details about page build requests and responses.</span></span>

## <a name="how-to-use-the-diagnostic-tests-tab"></a><span data-ttu-id="52dbc-185">如何使用"诊断测试"选项卡</span><span class="sxs-lookup"><span data-stu-id="52dbc-185">How to use the Diagnostic tests tab</span></span>

<span data-ttu-id="52dbc-186">使用 SharePoint 页面诊断工具分析 SharePoint 新式门户页面或经典发布网站页面时，会使用预定义的规则分析结果，这些规则将结果与基线值进行比较，并显示在"诊断测试"选项卡中。 某些测试的规则可能会对新式门户和经典发布网站使用不同的基线值，具体取决于这两者的特定性能特征如何不同。</span><span class="sxs-lookup"><span data-stu-id="52dbc-186">When you analyze a SharePoint modern portal page or classic publishing site page with the Page Diagnostics for SharePoint tool, results are analyzed using pre-defined rules that compare results against baseline values and displayed in the **Diagnostic tests** tab. Rules for certain tests may use different baseline values for modern portal and classic publishing sites depending on how specific performance characteristics differ between the two.</span></span>

<span data-ttu-id="52dbc-187">显示在"改进机会"或"需要关注"类别中的测试结果指示了应针对建议做法进行审阅的区域，并且可以通过选择这些区域来显示有关结果的其他信息。</span><span class="sxs-lookup"><span data-stu-id="52dbc-187">Test results that appear in the **Improvement opportunities** or **Attention required** categories indicate areas that should be reviewed against recommended practices, and can be selected to display additional information about the result.</span></span> <span data-ttu-id="52dbc-188">每个项目的详细信息包括" _了解详细信息_ "链接，该链接将引导你直接查看与测试相关的相应指导。</span><span class="sxs-lookup"><span data-stu-id="52dbc-188">Details for each item include a _Learn more_ link which will take you directly to the appropriate guidance related to the test.</span></span> <span data-ttu-id="52dbc-189">显示在"不需要操作 **"** 类别中的测试结果表示符合相关规则，并且选中后不显示其他详细信息。</span><span class="sxs-lookup"><span data-stu-id="52dbc-189">Test results that appear in the **No action required** category indicate compliance with the relevant rule and do not display additional details when selected.</span></span>

<span data-ttu-id="52dbc-190">"诊断测试"选项卡中的信息不会告诉您如何设计页面，但会突出显示可能会影响页面性能的因素。</span><span class="sxs-lookup"><span data-stu-id="52dbc-190">The information in the Diagnostics tests tab will not tell you how to design pages, but will highlight factors that may impact page performance.</span></span> <span data-ttu-id="52dbc-191">某些页面功能和自定义项对页面性能具有无法避免的影响，如果它们的影响很大，应该从页面中查看可能的修正或遗漏。</span><span class="sxs-lookup"><span data-stu-id="52dbc-191">Some page functionality and customizations have an unavoidable impact on page performance, and should be reviewed for potential remediation or omission from the page if their impact is substantial.</span></span>

<span data-ttu-id="52dbc-192">红色或黄色结果也可能指示刷新数据的 Web 部件过于频繁。</span><span class="sxs-lookup"><span data-stu-id="52dbc-192">Red or yellow results may also indicate web parts that refresh data too frequently.</span></span> <span data-ttu-id="52dbc-193">例如，公司新闻不是每秒钟更新一次，但自定义 Web 部件通常构建为每秒获取一次最新新闻，而不是实现可改善整体用户体验的缓存元素。</span><span class="sxs-lookup"><span data-stu-id="52dbc-193">For example, corporate news is not updated every second but custom web parts are often built to fetch the latest news every second instead of implementing caching elements that could improve the overall user experience.</span></span> <span data-ttu-id="52dbc-194">请记住，在页面上包括 Web 部件时，通常有一些简单的方法可以评估每个可用参数的值来降低其性能影响，以确保为达到预期目的正确设置它。</span><span class="sxs-lookup"><span data-stu-id="52dbc-194">Keep in mind when including web parts on a page that there are often simple ways to reduce their performance impact by evaluating the value of each available parameter to ensure it is set appropriately for its intended purpose.</span></span>

>[!NOTE]
><span data-ttu-id="52dbc-195">未启用发布功能的经典团队网站无法使用 CDN。</span><span class="sxs-lookup"><span data-stu-id="52dbc-195">Classic team sites that don't have the publishing feature enabled cannot make use of CDNs.</span></span> <span data-ttu-id="52dbc-196">在这些网站上运行该工具时，CDN测试将失败并可以忽略，但其余所有测试都适用。</span><span class="sxs-lookup"><span data-stu-id="52dbc-196">When you run the tool on these sites, the CDN test is expected to fail and can be ignored, but all of the remaining tests are applicable.</span></span> <span data-ttu-id="52dbc-197">发布功能的其他SharePoint可能会增加页面加载时间，因此不应仅启用该功能以允许CDN功能。</span><span class="sxs-lookup"><span data-stu-id="52dbc-197">The additional functionality of the SharePoint publishing feature can increase page load times, so it should not be enabled just to allow CDN functionality.</span></span>

>[!IMPORTANT]
><span data-ttu-id="52dbc-198">测试规则会定期添加和更新，因此请参考该工具的最新版本，了解有关当前规则和测试结果中包含的特定信息的详细信息。</span><span class="sxs-lookup"><span data-stu-id="52dbc-198">Test rules are added and updated regularly so please refer to the latest version of the tool for details about current rules and specific information included in test results.</span></span> <span data-ttu-id="52dbc-199">可以通过管理扩展验证版本，扩展将告知更新是否可用。</span><span class="sxs-lookup"><span data-stu-id="52dbc-199">You can verify the version by managing your extensions and the extension will advise whether an update is available.</span></span>

## <a name="how-to-use-the-network-trace-tab-and-how-to-export-a-har-file"></a><span data-ttu-id="52dbc-200">如何使用"网络跟踪"选项卡以及如何导出 HAR 文件</span><span class="sxs-lookup"><span data-stu-id="52dbc-200">How to use the Network Trace tab and how to export a HAR file</span></span>

<span data-ttu-id="52dbc-201">"**网络跟踪**"选项卡提供有关生成页面的请求和从网站页面接收的响应SharePoint。</span><span class="sxs-lookup"><span data-stu-id="52dbc-201">The **Network Trace** tab provides detailed information about both requests to build the page and the responses received from SharePoint.</span></span>

1. <span data-ttu-id="52dbc-202">**查找标记为红色 的项目加载时间**。</span><span class="sxs-lookup"><span data-stu-id="52dbc-202">**Look for item load times flagged as red**.</span></span> <span data-ttu-id="52dbc-203">每个请求和响应都经过颜色编码，以使用下列延迟指标指示对整体页面性能的影响：</span><span class="sxs-lookup"><span data-stu-id="52dbc-203">Each request and response is color coded to indicate its impact on overall page performance using the following latency metrics:</span></span>
    - <span data-ttu-id="52dbc-204">绿色 \< ：500 毫秒</span><span class="sxs-lookup"><span data-stu-id="52dbc-204">Green: \< 500ms</span></span>
    - <span data-ttu-id="52dbc-205">黄色：500-1000ms</span><span class="sxs-lookup"><span data-stu-id="52dbc-205">Yellow: 500-1000ms</span></span>
    - <span data-ttu-id="52dbc-206">红色 \> ：1000 毫秒</span><span class="sxs-lookup"><span data-stu-id="52dbc-206">Red: \> 1000ms</span></span>

    > [!div class="mx-imgBorder"]
    > <span data-ttu-id="52dbc-207">![网络跟踪](../media/page-diagnostics-for-spo/pagediag-networktrace-red.png)</span><span class="sxs-lookup"><span data-stu-id="52dbc-207">![Network Trace](../media/page-diagnostics-for-spo/pagediag-networktrace-red.png)</span></span>

    <span data-ttu-id="52dbc-208">在以上图像中，红色项目与默认页面相关。</span><span class="sxs-lookup"><span data-stu-id="52dbc-208">In the image shown above, the red item pertains to the default page.</span></span> <span data-ttu-id="52dbc-209">除非页面在 1000 毫秒内加载， (少于 \< 1 秒，否则) 。</span><span class="sxs-lookup"><span data-stu-id="52dbc-209">It will always show red unless the page loads in \< 1000ms (less than 1 second).</span></span>

2. <span data-ttu-id="52dbc-210">**测试项目加载时间**。</span><span class="sxs-lookup"><span data-stu-id="52dbc-210">**Test item load times**.</span></span> <span data-ttu-id="52dbc-211">在某些情况下，没有时间或颜色指示器，因为浏览器已缓存项目。</span><span class="sxs-lookup"><span data-stu-id="52dbc-211">In some cases there will be no time or color indicator because the items have already been cached by the browser.</span></span> <span data-ttu-id="52dbc-212">若要正确测试这一点，请打开页面，清除浏览器缓存，然后单击"开始"，因为这会强制加载"冷"页面，并真正反映初始页面加载。</span><span class="sxs-lookup"><span data-stu-id="52dbc-212">To test this correctly, open the page, clear browser cache, and then click **Start** as that will force a "cold" page load and be a true reflection of the initial page load.</span></span> <span data-ttu-id="52dbc-213">然后，这应该与"温"页面负载进行比较，因为这也将有助于确定正在页面上缓存哪些项目。</span><span class="sxs-lookup"><span data-stu-id="52dbc-213">This should then be compared to the "warm" page load as that will also help determine what items are being cached on the page.</span></span>

3. <span data-ttu-id="52dbc-214">**与可以帮助调查问题的其他人共享相关详细信息**。</span><span class="sxs-lookup"><span data-stu-id="52dbc-214">**Share relevant details with others who can help investigate issues**.</span></span> <span data-ttu-id="52dbc-215">若要与开发人员或技术支持人员共享此工具中提供的详细信息或信息，建议使用"允许导出到 HTTP 存档" (**HAR)** 推荐方法。</span><span class="sxs-lookup"><span data-stu-id="52dbc-215">To share the details or information provided in the tool with your developers or a technical support person, using the **Enable exporting to HTTP Archive (HAR)** is the recommended approach.</span></span> 

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="52dbc-216">![允许导出到 HAR](../media/page-diagnostics-for-spo/pagediag-submithar.png)</span><span class="sxs-lookup"><span data-stu-id="52dbc-216">![Enable exporting to HAR](../media/page-diagnostics-for-spo/pagediag-submithar.png)</span></span>

<span data-ttu-id="52dbc-217">这应在单击"开始"之前启用，这将在浏览器中启用调试模式。</span><span class="sxs-lookup"><span data-stu-id="52dbc-217">That should be enabled prior to clicking Start, which will then enable debug mode in your browser.</span></span> <span data-ttu-id="52dbc-218">它将在 HAR (HTTP 存档) ，然后可以通过"网络跟踪"选项卡访问该文件。单击"导出到 HAR"，它会将文件下载到计算机，然后你可以进行相应的共享。</span><span class="sxs-lookup"><span data-stu-id="52dbc-218">It will generate an HTTP Archive file (HAR) which can then be accessed through the "Network Trace" tab. Click the "Export to HAR" and it will download the file to your computer and you can then share it accordingly.</span></span> <span data-ttu-id="52dbc-219">该文件可以在各种调试工具（如 F12 开发人员工具和 Fiddler）中打开。</span><span class="sxs-lookup"><span data-stu-id="52dbc-219">The file can be opened in a variety of debug tools, like F12 Developer Tools and Fiddler.</span></span>

> [!div class="mx-imgBorder"]
> <span data-ttu-id="52dbc-220">![网络跟踪](../media/page-diagnostics-for-spo/pagediag-networktracehar.png)</span><span class="sxs-lookup"><span data-stu-id="52dbc-220">![Network trace](../media/page-diagnostics-for-spo/pagediag-networktracehar.png)</span></span>

> [!IMPORTANT]
> <span data-ttu-id="52dbc-221">这些结果包含 URL，可将其分类为个人身份 (个人身份信息的 PII) 。</span><span class="sxs-lookup"><span data-stu-id="52dbc-221">These results contain URLs and that can be classified as PII (Personally Identifiable Information).</span></span> <span data-ttu-id="52dbc-222">在分发该信息之前，请务必遵循组织的准则。</span><span class="sxs-lookup"><span data-stu-id="52dbc-222">Make sure to follow your organization's guidelines before distributing that information.</span></span>

## <a name="engaging-with-microsoft-support"></a><span data-ttu-id="52dbc-223">与 Microsoft 支持人员合作</span><span class="sxs-lookup"><span data-stu-id="52dbc-223">Engaging with Microsoft Support</span></span>

<span data-ttu-id="52dbc-224">我们包含了 **Microsoft 支持级别** 功能，该功能仅在直接处理支持案例时使用。</span><span class="sxs-lookup"><span data-stu-id="52dbc-224">We have included a **Microsoft Support level feature** that should only be utilized when working directly on a support case.</span></span> <span data-ttu-id="52dbc-225">在没有支持团队参与的情况下使用此功能不会为您提供任何好处，并且会使页面执行速度明显变慢。</span><span class="sxs-lookup"><span data-stu-id="52dbc-225">Utilizing this feature will provide no benefit to you when used without support team engagement, and can make the page perform significantly slower.</span></span> <span data-ttu-id="52dbc-226">当在工具中使用此功能时，无需其他信息，因为其他信息会添加到服务中的日志记录中。</span><span class="sxs-lookup"><span data-stu-id="52dbc-226">There is no additional information when using this feature in the tool as the additional information is added to the logging in the service.</span></span>

<span data-ttu-id="52dbc-227">没有任何变化，只是会通知你已启用它，并且页面性能将显著降低 2-3 倍于启用性能。</span><span class="sxs-lookup"><span data-stu-id="52dbc-227">No change is visible except that you will be notified that you have enabled it and your page performance will be significantly degraded by 2-3 times slower performance whilst enabled.</span></span> <span data-ttu-id="52dbc-228">它仅与特定页面和该活动会话相关。</span><span class="sxs-lookup"><span data-stu-id="52dbc-228">It will only be relevant for the particular page and that active session.</span></span> <span data-ttu-id="52dbc-229">因此，应谨慎使用，且仅在积极提供支持时使用。</span><span class="sxs-lookup"><span data-stu-id="52dbc-229">For this reason, this should be used sparingly and only when actively engaged with support.</span></span>

### <a name="to-enable-the-microsoft-support-level-feature"></a><span data-ttu-id="52dbc-230">启用 Microsoft 支持级别功能</span><span class="sxs-lookup"><span data-stu-id="52dbc-230">To enable the Microsoft Support level feature</span></span>

1. <span data-ttu-id="52dbc-231">打开页面诊断SharePoint工具。</span><span class="sxs-lookup"><span data-stu-id="52dbc-231">Open the Page Diagnostics for SharePoint tool.</span></span>
2. <span data-ttu-id="52dbc-232">在键盘上，按 **Alt-Shift-L。**</span><span class="sxs-lookup"><span data-stu-id="52dbc-232">On your keyboard, press **ALT-Shift-L**.</span></span> <span data-ttu-id="52dbc-233">这将显示" **启用支持日志记录"** 复选框。</span><span class="sxs-lookup"><span data-stu-id="52dbc-233">This will display the **Enable support logging** check box.</span></span>
3. <span data-ttu-id="52dbc-234">选中该复选框，然后单击 **"开始"** 以重新加载页面并生成详细日志记录。</span><span class="sxs-lookup"><span data-stu-id="52dbc-234">Select the check box, and then click **Start** to reload the page and generate verbose logging.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="52dbc-235">![支持选项已启用](../media/page-diagnostics-for-spo/pagediag-support.png)</span><span class="sxs-lookup"><span data-stu-id="52dbc-235">![Support Option Enabled](../media/page-diagnostics-for-spo/pagediag-support.png)</span></span>
  
    <span data-ttu-id="52dbc-236">你应该注意显示在 (应用程序顶部的 CorrelationID) 并将其提供给你的支持代表，以便他们能够收集有关诊断会话的其他信息。</span><span class="sxs-lookup"><span data-stu-id="52dbc-236">You should note the CorrelationID (displayed at the top of the tool) and provide it to your support representative to enable them to gather additional information about the diagnostic session.</span></span>

## <a name="related-topics"></a><span data-ttu-id="52dbc-237">相关主题</span><span class="sxs-lookup"><span data-stu-id="52dbc-237">Related topics</span></span>

[<span data-ttu-id="52dbc-238">优化 SharePoint Online 性能</span><span class="sxs-lookup"><span data-stu-id="52dbc-238">Tune SharePoint Online performance</span></span>](tune-sharepoint-online-performance.md)

[<span data-ttu-id="52dbc-239">优化 Office 365 性能</span><span class="sxs-lookup"><span data-stu-id="52dbc-239">Tune Office 365 performance</span></span>](tune-microsoft-365-performance.md)

[<span data-ttu-id="52dbc-240">新式 SharePoint 体验中的性能</span><span class="sxs-lookup"><span data-stu-id="52dbc-240">Performance in the modern SharePoint experience</span></span>](/sharepoint/modern-experience-performance)

[<span data-ttu-id="52dbc-241">内容分发网络</span><span class="sxs-lookup"><span data-stu-id="52dbc-241">Content delivery networks</span></span>](content-delivery-networks.md)

[<span data-ttu-id="52dbc-242">结合使用 Office 365 内容分发网络和 SharePoint Online</span><span class="sxs-lookup"><span data-stu-id="52dbc-242">Use the Office 365 Content Delivery Network (CDN) with SharePoint Online</span></span>](use-microsoft-365-cdn-with-spo.md)