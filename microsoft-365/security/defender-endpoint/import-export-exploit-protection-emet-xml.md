---
title: 导入、导出和部署 Exploit Protection 配置
description: 使用组策略部署缓解配置。
keywords: Exploit Protection， 缓解， 导入， 导出， 配置， 转换， 转换， 部署， 安装
search.product: eADQiWindows 10XVcnh
ms.pagetype: security
ms.prod: m365-security
ms.mktglfcycl: manage
ms.sitesec: library
localization_priority: Normal
audience: ITPro
author: levinec
ms.author: ellevin
ms.reviewer: ''
manager: dansimp
ms.technology: mde
ms.openlocfilehash: ea7e894fa83ee8cadc67ebcde8ba9ff678c79832
ms.sourcegitcommit: 2a708650b7e30a53d10a2fe3164c6ed5ea37d868
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/24/2021
ms.locfileid: "51165053"
---
# <a name="import-export-and-deploy-exploit-protection-configurations"></a><span data-ttu-id="f22eb-104">导入、导出和部署 Exploit Protection 配置</span><span class="sxs-lookup"><span data-stu-id="f22eb-104">Import, export, and deploy exploit protection configurations</span></span>

[!INCLUDE [Microsoft 365 Defender rebranding](../../includes/microsoft-defender.md)]


<span data-ttu-id="f22eb-105">**适用于：**</span><span class="sxs-lookup"><span data-stu-id="f22eb-105">**Applies to:**</span></span>
- [<span data-ttu-id="f22eb-106">Microsoft Defender for Endpoint</span><span class="sxs-lookup"><span data-stu-id="f22eb-106">Microsoft Defender for Endpoint</span></span>](https://go.microsoft.com/fwlink/p/?linkid=2154037)
- [<span data-ttu-id="f22eb-107">Microsoft 365 Defender</span><span class="sxs-lookup"><span data-stu-id="f22eb-107">Microsoft 365 Defender</span></span>](https://go.microsoft.com/fwlink/?linkid=2118804)

> <span data-ttu-id="f22eb-108">想要体验适用于终结点的 Defender？</span><span class="sxs-lookup"><span data-stu-id="f22eb-108">Want to experience Defender for Endpoint?</span></span> [<span data-ttu-id="f22eb-109">注册免费试用版。</span><span class="sxs-lookup"><span data-stu-id="f22eb-109">Sign up for a free trial.</span></span>](https://www.microsoft.com/microsoft-365/windows/microsoft-defender-atp?ocid=docs-wdatp-exposedapis-abovefoldlink) 


<span data-ttu-id="f22eb-110">Exploit Protection 可帮助保护设备免受使用攻击进行传播和感染的恶意软件的攻击。</span><span class="sxs-lookup"><span data-stu-id="f22eb-110">Exploit protection helps protect devices from malware that use exploits to spread and infect.</span></span> <span data-ttu-id="f22eb-111">它包含许多可在操作系统级别或个别应用级别应用的缓解。</span><span class="sxs-lookup"><span data-stu-id="f22eb-111">It consists of a number of mitigations that can be applied at either the operating system level, or at the individual app level.</span></span>

<span data-ttu-id="f22eb-112">使用 Windows 安全应用或 PowerShell 创建一组缓解 (称为配置) 。</span><span class="sxs-lookup"><span data-stu-id="f22eb-112">You use the Windows Security app or PowerShell to create a set of mitigations (known as a configuration).</span></span> <span data-ttu-id="f22eb-113">然后，你可以将此配置导出为 XML 文件，并与你的网络上多台设备共享它。</span><span class="sxs-lookup"><span data-stu-id="f22eb-113">You can then export this configuration as an XML file and share it with multiple devices on your network.</span></span> <span data-ttu-id="f22eb-114">然后，它们都有相同的缓解设置集。</span><span class="sxs-lookup"><span data-stu-id="f22eb-114">Then, they all have the same set of mitigation settings.</span></span>

<span data-ttu-id="f22eb-115">评估[包](https://demo.wd.microsoft.com/Page/EP)包含一个示例配置文件 (名称ProcessMitigation.xml(Selfhost v4) 可用于查看 XML 结构的外观。 </span><span class="sxs-lookup"><span data-stu-id="f22eb-115">The [Evaluation Package](https://demo.wd.microsoft.com/Page/EP) contains a sample configuration file (name *ProcessMitigation.xml* (Selfhost v4) you can use to see how the XML structure looks.</span></span> <span data-ttu-id="f22eb-116">示例文件还包含从增强的缓解体验转换的设置 [Toolkit (不再支持) ](https://support.microsoft.com/en-us/help/2458544/the-enhanced-mitigation-experience-toolkit) 配置。</span><span class="sxs-lookup"><span data-stu-id="f22eb-116">The sample file also contains settings that have been converted from an [Enhanced Mitigation Experience Toolkit (no longer supported)](https://support.microsoft.com/en-us/help/2458544/the-enhanced-mitigation-experience-toolkit) configuration.</span></span> <span data-ttu-id="f22eb-117">可以在文本编辑器中打开文件 (记事本) 或将其直接导入 Exploit Protection 并查看 Windows 安全应用中的设置。</span><span class="sxs-lookup"><span data-stu-id="f22eb-117">You can open the file in a text editor (such as Notepad) or import it directly into exploit protection and review the settings in the Windows Security app.</span></span>

## <a name="create-and-export-a-configuration-file"></a><span data-ttu-id="f22eb-118">创建和导出配置文件</span><span class="sxs-lookup"><span data-stu-id="f22eb-118">Create and export a configuration file</span></span>

<span data-ttu-id="f22eb-119">导出配置文件之前，需要确保具有正确的设置。</span><span class="sxs-lookup"><span data-stu-id="f22eb-119">Before you export a configuration file, you need to ensure you have the correct settings.</span></span> <span data-ttu-id="f22eb-120">首先，在单个专用设备上配置 Exploit Protection。</span><span class="sxs-lookup"><span data-stu-id="f22eb-120">First, configure exploit protection on a single, dedicated device.</span></span> <span data-ttu-id="f22eb-121">有关 [配置缓解功能](customize-exploit-protection.md) 详细信息，请参阅自定义 Exploit Protection。</span><span class="sxs-lookup"><span data-stu-id="f22eb-121">See [Customize exploit protection](customize-exploit-protection.md) for more information about configuring mitigations.</span></span>

<span data-ttu-id="f22eb-122">当你将 Exploit Protection 配置为所需状态 (包括系统级别和应用级别缓解) 时，可以使用 Windows 安全应用或 PowerShell 导出文件。</span><span class="sxs-lookup"><span data-stu-id="f22eb-122">When you've configured exploit protection to your desired state (including both system-level and app-level mitigations), you can export the file using either the Windows Security app or PowerShell.</span></span>

### <a name="use-the-windows-security-app-to-export-a-configuration-file"></a><span data-ttu-id="f22eb-123">使用 Windows 安全应用导出配置文件</span><span class="sxs-lookup"><span data-stu-id="f22eb-123">Use the Windows Security app to export a configuration file</span></span>

1. <span data-ttu-id="f22eb-124">通过选择任务栏中的防护图标打开 Windows 安全应用。</span><span class="sxs-lookup"><span data-stu-id="f22eb-124">Open the Windows Security app by selecting the shield icon in the task bar.</span></span> <span data-ttu-id="f22eb-125">或者，在"开始"菜单中搜索 **Defender**。</span><span class="sxs-lookup"><span data-stu-id="f22eb-125">Or, search the start menu for **Defender**.</span></span>

2. <span data-ttu-id="f22eb-126">选择 **"&浏览器** (磁贴或左侧菜单栏上的应用图标) 然后选择 Exploit **Protection 设置**：</span><span class="sxs-lookup"><span data-stu-id="f22eb-126">Select the **App & browser control** tile (or the app icon on the left menu bar) and then select **Exploit protection settings**:</span></span>

    ![突出显示 Windows 安全应用中的 Exploit Protection 设置选项](/microsoft-365/security/defender-endpoint/images/wdsc-exp-prot)

3. <span data-ttu-id="f22eb-128">在 Exploit Protection 部分的底部 **，** 选择"导出 **设置"。**</span><span class="sxs-lookup"><span data-stu-id="f22eb-128">At the bottom of the **Exploit protection** section, select **Export settings**.</span></span> <span data-ttu-id="f22eb-129">选择要保存配置的 XML 文件的位置和名称。</span><span class="sxs-lookup"><span data-stu-id="f22eb-129">Choose the location and name of the XML file where you want the configuration to be saved.</span></span>

    > [!IMPORTANT]
    > <span data-ttu-id="f22eb-130">如果要使用默认配置，请使用设置"默认启用"，而不是"使用默认 (On) "获取在 XML 文件上正确导出的设置。</span><span class="sxs-lookup"><span data-stu-id="f22eb-130">If you want to use Default configuration, use the settings "On by default" instead of "Use Default (On)" to get the settings exported correctly on the XML file.</span></span>

    ![突出显示"导出设置"选项](/microsoft-365/security/defender-endpoint/images/wdsc-exp-prot-export)

    > [!NOTE]
    > <span data-ttu-id="f22eb-132">导出设置时，将保存应用级别和系统级别缓解的所有设置。</span><span class="sxs-lookup"><span data-stu-id="f22eb-132">When you export the settings, all settings for both app-level and system-level mitigations are saved.</span></span> <span data-ttu-id="f22eb-133">这意味着，无需同时从"系统设置"和"程序设置"部分导出文件，任一部分都将导出所有设置。</span><span class="sxs-lookup"><span data-stu-id="f22eb-133">This means you don't need to export a file from both the **System settings** and **Program settings** sections—either section will export all settings.</span></span>

### <a name="use-powershell-to-export-a-configuration-file"></a><span data-ttu-id="f22eb-134">使用 PowerShell 导出配置文件</span><span class="sxs-lookup"><span data-stu-id="f22eb-134">Use PowerShell to export a configuration file</span></span>

1. <span data-ttu-id="f22eb-135">在 **"开始"菜单中键入 powershell，** 右 **键单击**"Windows PowerShell并选择"以 **管理员角色运行"。**</span><span class="sxs-lookup"><span data-stu-id="f22eb-135">Type **powershell** in the Start menu, right-click **Windows PowerShell** and select **Run as administrator**.</span></span>
2. <span data-ttu-id="f22eb-136">输入以下 cmdlet：</span><span class="sxs-lookup"><span data-stu-id="f22eb-136">Enter the following cmdlet:</span></span>

    ```PowerShell
    Get-ProcessMitigation -RegistryConfigFilePath filename.xml
    ```

    <span data-ttu-id="f22eb-137">更改为 `filename` 你选择的任何名称或位置。</span><span class="sxs-lookup"><span data-stu-id="f22eb-137">Change `filename` to any name or location of your choosing.</span></span>

    <span data-ttu-id="f22eb-138">示例命令：</span><span class="sxs-lookup"><span data-stu-id="f22eb-138">Example command:</span></span>

    `Get-ProcessMitigation -RegistryConfigFilePath C:\ExploitConfigfile.xml`

> [!IMPORTANT]
> <span data-ttu-id="f22eb-139">使用组策略部署配置时，将使用该配置的所有设备都必须能够访问配置文件。</span><span class="sxs-lookup"><span data-stu-id="f22eb-139">When you deploy the configuration using Group Policy, all devices that will use the configuration must be able to access the configuration file.</span></span> <span data-ttu-id="f22eb-140">确保将文件放在共享位置。</span><span class="sxs-lookup"><span data-stu-id="f22eb-140">Ensure you place the file in a shared location.</span></span>

## <a name="import-a-configuration-file"></a><span data-ttu-id="f22eb-141">导入配置文件</span><span class="sxs-lookup"><span data-stu-id="f22eb-141">Import a configuration file</span></span>

<span data-ttu-id="f22eb-142">你可以导入之前创建的 Exploit Protection 配置文件。</span><span class="sxs-lookup"><span data-stu-id="f22eb-142">You can import an exploit protection configuration file that you've previously created.</span></span> <span data-ttu-id="f22eb-143">只能使用 PowerShell 导入配置文件。</span><span class="sxs-lookup"><span data-stu-id="f22eb-143">You can only use PowerShell to import the configuration file.</span></span>

<span data-ttu-id="f22eb-144">导入后，将立即应用这些设置，并且可在 Windows 安全应用中查看这些设置。</span><span class="sxs-lookup"><span data-stu-id="f22eb-144">After importing, the settings will be instantly applied and can be reviewed in the Windows Security app.</span></span>

### <a name="use-powershell-to-import-a-configuration-file"></a><span data-ttu-id="f22eb-145">使用 PowerShell 导入配置文件</span><span class="sxs-lookup"><span data-stu-id="f22eb-145">Use PowerShell to import a configuration file</span></span>

1. <span data-ttu-id="f22eb-146">在 **"开始"菜单中键入 powershell，** 右 **键单击**"Windows PowerShell并选择"以 **管理员角色运行"。**</span><span class="sxs-lookup"><span data-stu-id="f22eb-146">Type **powershell** in the Start menu, right-click **Windows PowerShell** and select **Run as administrator**.</span></span>
2. <span data-ttu-id="f22eb-147">输入以下 cmdlet：</span><span class="sxs-lookup"><span data-stu-id="f22eb-147">Enter the following cmdlet:</span></span>

    ```PowerShell
    Set-ProcessMitigation -PolicyFilePath filename.xml
    ```

    <span data-ttu-id="f22eb-148">更改为 `filename` Exploit Protection XML 文件的位置和名称。</span><span class="sxs-lookup"><span data-stu-id="f22eb-148">Change `filename` to the location and name of the exploit protection XML file.</span></span>

    <span data-ttu-id="f22eb-149">示例命令：</span><span class="sxs-lookup"><span data-stu-id="f22eb-149">Example command:</span></span>

    `Set-ProcessMitigation -PolicyFilePath C:\ExploitConfigfile.xml`

> [!IMPORTANT]
>
> <span data-ttu-id="f22eb-150">确保导入专为 Exploit Protection 创建的配置文件。</span><span class="sxs-lookup"><span data-stu-id="f22eb-150">Ensure you import a configuration file that is created specifically for exploit protection.</span></span>

## <a name="manage-or-deploy-a-configuration"></a><span data-ttu-id="f22eb-151">管理或部署配置</span><span class="sxs-lookup"><span data-stu-id="f22eb-151">Manage or deploy a configuration</span></span>

<span data-ttu-id="f22eb-152">可以使用组策略将已创建的配置部署到网络中多台设备。</span><span class="sxs-lookup"><span data-stu-id="f22eb-152">You can use Group Policy to deploy the configuration you've created to multiple devices in your network.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="f22eb-153">使用组策略部署配置时，将使用该配置的所有设备都必须能够访问配置 XML 文件。</span><span class="sxs-lookup"><span data-stu-id="f22eb-153">When you deploy the configuration using Group Policy, all devices that will use the configuration must be able to access the configuration XML file.</span></span> <span data-ttu-id="f22eb-154">确保将文件放在共享位置。</span><span class="sxs-lookup"><span data-stu-id="f22eb-154">Ensure you place the file in a shared location.</span></span>

### <a name="use-group-policy-to-distribute-the-configuration"></a><span data-ttu-id="f22eb-155">使用组策略分发配置</span><span class="sxs-lookup"><span data-stu-id="f22eb-155">Use Group Policy to distribute the configuration</span></span>

1. <span data-ttu-id="f22eb-156">在组策略管理设备上，打开组 [策略管理控制台](https://docs.microsoft.com/previous-versions/windows/desktop/gpmc/group-policy-management-console-portal)，右键单击要配置的组策略对象并 **编辑**。</span><span class="sxs-lookup"><span data-stu-id="f22eb-156">On your Group Policy management device, open the [Group Policy Management Console](https://docs.microsoft.com/previous-versions/windows/desktop/gpmc/group-policy-management-console-portal), right-click the Group Policy Object you want to configure and **Edit**.</span></span>

2. <span data-ttu-id="f22eb-157">在组 **策略管理编辑器中**，转到计算机 **配置，** 然后选择 **管理模板**。</span><span class="sxs-lookup"><span data-stu-id="f22eb-157">In the **Group Policy Management Editor**, go to **Computer configuration** and select **Administrative templates**.</span></span>

3. <span data-ttu-id="f22eb-158">将树展开到 **使用**  >  **Exploit Guard Exploit Protection Windows Defender Windows**  >  **组件**。</span><span class="sxs-lookup"><span data-stu-id="f22eb-158">Expand the tree to **Windows components** > **Windows Defender Exploit Guard** > **Exploit protection**.</span></span>

    ![Exploit Protection 的组策略设置的屏幕截图](/microsoft-365/security/defender-endpoint/images/exp-prot-gp)

4. <span data-ttu-id="f22eb-160">双击使用 **一组常见的 Exploit Protection 设置，** 将选项设置为 **已启用**。</span><span class="sxs-lookup"><span data-stu-id="f22eb-160">Double-click **Use a common set of Exploit protection settings** and set the option to **Enabled**.</span></span>

5. <span data-ttu-id="f22eb-161">在 **"选项："** 部分，输入想要使用的 Exploit Protection 配置文件的位置和文件名，如以下示例所示：</span><span class="sxs-lookup"><span data-stu-id="f22eb-161">In the **Options:** section, enter the location and file name of the Exploit protection configuration file that you want to use, such as in the following examples:</span></span>

    * `C:\MitigationSettings\Config.XML`
    * `\\Server\Share\Config.xml`
    * `https://localhost:8080/Config.xml`
    * `C:\ExploitConfigfile.xml`

6. <span data-ttu-id="f22eb-162">选择 **"确定**["，然后按正常操作部署更新的 GPO。](https://docs.microsoft.com/windows/win32/srvnodes/group-policy)</span><span class="sxs-lookup"><span data-stu-id="f22eb-162">Select **OK** and [Deploy the updated GPO as you normally do](https://docs.microsoft.com/windows/win32/srvnodes/group-policy).</span></span>

## <a name="see-also"></a><span data-ttu-id="f22eb-163">另请参阅</span><span class="sxs-lookup"><span data-stu-id="f22eb-163">See also</span></span>

- [<span data-ttu-id="f22eb-164">保护设备免受攻击</span><span class="sxs-lookup"><span data-stu-id="f22eb-164">Protect devices from exploits</span></span>](exploit-protection.md)
- [<span data-ttu-id="f22eb-165">评估 Exploit Protection</span><span class="sxs-lookup"><span data-stu-id="f22eb-165">Evaluate exploit protection</span></span>](evaluate-exploit-protection.md)
- [<span data-ttu-id="f22eb-166">启用 Exploit Protection</span><span class="sxs-lookup"><span data-stu-id="f22eb-166">Enable exploit protection</span></span>](enable-exploit-protection.md)
- [<span data-ttu-id="f22eb-167">配置和审核 Exploit Protection 缓解</span><span class="sxs-lookup"><span data-stu-id="f22eb-167">Configure and audit exploit protection mitigations</span></span>](customize-exploit-protection.md)
